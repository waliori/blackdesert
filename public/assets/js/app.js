"use strict";angular.module("hopeApp",["ngCookies","ngResource","ngSanitize","btford.socket-io","ui.router","ui.bootstrap","restangular","monospaced.qrcode","pascalprecht.translate","ngClipboard","luegg.directives","cfp.hotkeys","ngIdle","ng.confirmField","angular-loading-bar","ngAnimate"]).constant("constant",{DEFAULT_SITE_ID:1,COOKIE_EXPIRATION_DAYS:365,BROADCAST_BET_TIME_LIMIT:5e3,MAX_LOG_LENGTH:15,ERR_MESSAGE_TIMEOUT:5e3,DEFAULT_ALIAS:"Player"}).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","$animateProvider","RestangularProvider","$translateProvider","$idleProvider","cfpLoadingBarProvider",function(a,b,c,d,e,f,g,h,i){b.otherwise("/"),f.setBaseUrl("/api"),c.html5Mode(!0),d.interceptors.push("authInterceptor"),g.useUrlLoader("api/i18n"),g.preferredLanguage("en_US"),g.fallbackLanguage("en_US"),h.idleDuration(3600),h.warningDuration(0),i.includeSpinner=!1,i.latencyThreshold=2e3,e.classNameFilter(/row/),g.translations("en_US",{LANDING_PAGE:{WELCOME:{TITLE:"Welcome to SafeDice.",SUB_TITLE:"The most competitive dice site with the lowest 0.5% variable house edge.",CONTENT:'<ul><li><i class="fa fa-check"></i> Very Low 0.5% Variable House Edge<li><i class="fa fa-check"></i> Invest and Be The Bank Feature<li><i class="fa fa-check"></i> Generous Referral Program<li><i class="fa fa-check"></i> Auto Betting Feature<li><i class="fa fa-check"></i> Instant Withdrawal<li><i class="fa fa-check"></i> True Provably Fair<li><i class="fa fa-check"></i> Two-Factor Authentication<li><i class="fa fa-check"></i> Secure SSL Access<li><i class="fa fa-check"></i> Real Time Off-Chain Betting<li><i class="fa fa-check"></i> Instant and Anonymous Registration<li><i class="fa fa-check"></i> Fast One Confirmation Deposit</ul>',BY_CLICKING:"By clicking “Get Started” you agree to all",TNC:"Terms & Conditions"},SIGN_IN:{TITLE:"Login",SUBMIT:"Login"},SIGN_UP:{TITLE:"Create Account",SUB_TITLE:"It's easy. Enter your alias and start rolling.",SUBMIT:"Get Started!",ENTER_YOUR_NAME:"Enter your alias"},FORGOT_PASSWORD:{TITLE:"Forgot Password",CONTENT:"P_1"},SIGN_IN_LINK:"Already have an Account?",SIGN_UP_LINK:"Don't have an Account?",FORGOT_PASSWORD_LINK:"Forgot Password?"}})}]).factory("authInterceptor",["$rootScope","$q","$cookieStore","$location",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},c.get("token")&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status?(d.path("/"),c.remove("token"),b.reject(a)):b.reject(a)}}}]).run(["$rootScope","$state","$idle","auth",function(a,b,c,d){c.watch(),a.$on("$stateChangeStart",function(a,c){d.isSignedInAsync().then(function(d){c.authenticate&&!d?(a.preventDefault(),b.go("lp")):"lp"===c.name&&d&&(a.preventDefault(),b.go("dice"))})}),a.$on("$stateChangeError",function(a,b,c,d,e,f){console.log(f)})}]),angular.module("hopeApp").controller("AccountCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("account",{"abstract":!0,url:"/account",templateUrl:"app/account/account.html",controller:"AccountCtrl",authenticate:!0})}]),angular.module("hopeApp").controller("HistoryCtrl",["$scope","log",function(a,b){a.txLog=b.txLog}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("account.history",{url:"/history",templateUrl:"app/account/history/history.html",controller:"HistoryCtrl",authenticate:!0,resolve:{_txLog:["log","auth",function(a,b){return b.isSignedInAsync().then(function(b){if(!b)throw new Error("History state loaded without signed in");return a.loadTxLog()})}]}})}]),angular.module("hopeApp").controller("ReferralCtrl",["$scope","downlines","referralLink","coin","wallet","$timeout",function(a,b,c,d,e,f){a.downlines=b,a.referralLink=c,a.preloaded={amount:0,minWagerMultiplier:0,link:""},a.currentWallet=e.currentWallet,a.createPreloadedLink=function(b){var c=d.toSmallestUnit(a.preloaded.amount);c&&isFinite(a.preloaded.minWagerMultiplier)&&(a.preloaded.submitted=!0,e.createVoucher({amount:c,minWager:parseInt(c*parseFloat(a.preloaded.minWagerMultiplier))}).then(function(b){a.preloaded.link=a.referralLink+"&v="+b.code,a.preloaded.result={status:200}})["catch"](function(b){a.preloaded.result=b})["finally"](function(){a.preloaded.balance=0,a.preloaded.minWagerMultiplier=0,a.preloaded.submitted=!1,f(function(){delete a.preloaded.result},3e3),b.$setPristine()}))}}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("account.referral",{url:"/referral",templateUrl:"app/account/referral/referral.html",controller:"ReferralCtrl",authenticate:!0,resolve:{referralLink:["account","$location",function(a,b){return a.isSignedInAsync().then(function(c){if(!c)throw new Error("Account must be signed in");var d=b.absUrl().substring(0,b.absUrl().length-b.url().length);return d+"/?r="+a.currentAccount.id})}],downlines:["auth","account",function(a,b){return a.isSignedInAsync().then(function(a){if(!a)throw new Error("Account must be signed in");return b.getDownlines()})}]}})}]),angular.module("hopeApp").controller("SettingCtrl",["$scope","account","wallet","$location","$timeout",function(a,b,c,d,e){a.cp={},a.su={},a.sea={},a.currentAccount=b.currentAccount,a.currentWallet=c.currentWallet,a.isPregeneratedUsername=b.isPregeneratedUsername();var f=d.absUrl().substring(0,d.absUrl().length-d.url().length);a.secretLink=f+"/secret/"+b.currentAccount.authHashLink,a.$watch(function(){return c.currentWallet.emergencyAddress},function(b){a.sea.address=b}),a.changePassword=function(c){a.cp.newPassword===a.cp.newPasswordConfirmation&&(a.cp.submitted=!0,b.changePassword(a.cp.oldPassword,a.cp.newPassword).then(function(){a.cp.result={status:200}})["catch"](function(b){a.cp.result=b})["finally"](function(){a.cp={result:a.cp.result},e(function(){delete a.cp.result},5e3),c.$setPristine()}))},a.setUserPass=function(c){a.su.password===a.su.passwordConfirmation&&(a.su.submitted=!0,b.setUserPass(a.su.username,a.su.password).then(function(){a.su.result={status:200}})["catch"](function(b){a.su.result=b})["finally"](function(){a.su={result:a.su.result},e(function(){delete a.su.result},5e3),c.$setPristine()}))},a.setEmergencyAddress=function(b){a.sea.address&&(a.sea.submitted=!0,c.setEmergencyAddress(a.sea.address).then(function(){a.sea.result={status:200},b.$setPristine()})["catch"](function(b){a.sea.result=b})["finally"](function(){a.sea.submitted=!1,e(function(){delete a.sea.result},5e3)}))}}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("account.setting",{url:"/setting",templateUrl:"app/account/setting/setting.html",controller:"SettingCtrl",authenticate:!0,resolve:{_account:["account",function(a){return a.isSignedInAsync().then(function(a){if(!a)throw new Error("Setting state loaded without signed in")})}]}})}]),angular.module("hopeApp").controller("TwoFactorCtrl",["$scope","totp","account","$timeout",function(a,b,c,d){a.totp=b,a.et={},a.ut={},a.enableTotp=function(b){a.et.submitted=!0,c.updateTotp({code:a.totp.code,isEnabled:!0}).then(function(b){b&&(a.totp=b),a.et.result={status:200}})["catch"](function(b){a.et.result=b})["finally"](function(){a.totp.code="",a.et={result:a.et.result},d(function(){delete a.et.result},5e3),b.$setPristine()})},a.updateTotp=function(b){a.ut.submitted=!0,c.updateTotp(a.totp).then(function(b){b&&(a.totp=b),a.ut.result={status:200}})["catch"](function(b){a.ut.result=b})["finally"](function(){a.totp.code="",a.ut={result:a.ut.result},d(function(){delete a.ut.result},5e3),b.$setPristine()})},a.removeTotp=function(b){a.ut.submitted=!0,c.removeTotp({code:a.totp.code}).then(function(b){b&&(a.totp=b),a.ut.result={status:200}})["catch"](function(b){a.ut.result=b})["finally"](function(){a.totp.code="",a.ut={result:a.ut.result},d(function(){delete a.ut.result},5e3),b.$setPristine()})}}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("account.twoFactor",{url:"/twoFactor",templateUrl:"app/account/twoFactor/twoFactor.html",controller:"TwoFactorCtrl",authenticate:!0,resolve:{totp:["account",function(a){return a.getTotpAsync()}]}})}]),angular.module("hopeApp").controller("DiceCtrl",["$scope",function(){}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("dice",{url:"/play",templateUrl:"app/dice/dice.html",controller:"DiceCtrl",authenticate:!0,resolve:{_translation:["$translate",function(a){return a()}],_auth:["auth",function(a){return a.isSignedInAsync().then(function(a){if(!a)throw new Error("Dice state loaded without signed in")})}]}})}]),angular.module("hopeApp").controller("FairCtrl",["$scope","account","$timeout",function(a,b,c){a.account=b,a.currentAccount=b.currentAccount,a.seed={},a.randomize={},a.seed.accountSeed=b.currentAccount.accountSeed,a.changeAccountSeed=function(d){a.seed.submitted=!0,b.changeAccountSeed(a.seed.accountSeed).then(function(){a.seed.result={status:200},d.$setPristine()})["catch"](function(b){a.seed.result=b})["finally"](function(){a.seed.submitted=!1,c(function(){delete a.seed.result},3e3)})},a.randomizeServerSeed=function(){b.randomizeServerSeed().then(function(){a.randomize.result={status:200}})["catch"](function(b){a.randomize.result=b})["finally"](function(){c(function(){delete a.randomize.result},5e3)})}}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("fair",{url:"/fair",templateUrl:"app/fair/fair.html",controller:"FairCtrl",authenticate:!0,resolve:{_account:["account",function(a){return a.isSignedInAsync().then(function(a){if(!a)throw new Error("Fair state loaded without signed in")})}]}})}]),angular.module("hopeApp").controller("FaqCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("faq",{url:"/faq",templateUrl:"app/faq/faq.html",controller:"FaqCtrl"})}]),angular.module("hopeApp").controller("HouseedgeCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("houseEdge",{url:"/house-edge",templateUrl:"app/houseEdge/houseEdge.html",controller:"HouseedgeCtrl"})}]),angular.module("hopeApp").controller("LeaderboardCtrl",["$scope","log",function(a,b){a.leaderboard=b.leaderboardLog}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("leaderboard",{url:"/leaderboard",templateUrl:"app/leaderboard/leaderboard.html",controller:"LeaderboardCtrl",authenticate:!0,resolve:{_leaderboard:["auth","log",function(a,b){return a.isSignedInAsync().then(function(a){if(!a)throw new Error("Leaderboard state loaded without signed in");return b.loadLeaderboardLog()})}]}})}]),angular.module("hopeApp").controller("LpCtrl",["$scope","$state","$timeout","$location","auth","constant","site",function(a,b,c,d,e,f){a.activeTab=0,a.si={},a.su={},a.preferredSiteId=d.search().site||1,a.signUp=function(){a.su.submitted=!0,e.signUp({username:a.su.alias||f.DEFAULT_ALIAS,referralId:d.search().ref||d.search().r,voucherCode:d.search().v},a.preferredSiteId).then(function(){b.go("dice")})["catch"](function(b){a.su.result=b,c(function(){delete a.su.result},f.ERR_MESSAGE_TIMEOUT),d.path(d.absUrl().substring(0,d.absUrl().length-d.url().length))})["finally"](function(){c(function(){a.su.submitted=!1},f.ERR_MESSAGE_TIMEOUT),form.$setPristine()})},a.signIn=function(d){a.si.submitted=!0,e.signIn({username:a.si.username,password:a.si.password,code:a.si.code},a.preferredSiteId).then(function(){b.go("dice")})["catch"](function(b){a.si.result=b,c(function(){a.si={username:a.si.username,password:a.si.password}},f.ERR_MESSAGE_TIMEOUT)})["finally"](function(){c(function(){a.si.submitted=!1},f.ERR_MESSAGE_TIMEOUT),d.$setPristine()})}}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("lp",{url:"/",templateUrl:"app/lp/lp.html",controller:"LpCtrl",resolve:{}})}]),angular.module("hopeApp").controller("SecretCtrl",["$stateParams","$state","$location","auth",function(a,b,c,d){d.signIn({hash:a.hash},1).then(function(){b.go("dice")})["catch"](function(){b.go("lp")})}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("secret",{url:"/secret/:hash",controller:"SecretCtrl"})}]),angular.module("hopeApp").controller("TosCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("hopeApp").config(["$stateProvider",function(a){a.state("tos",{url:"/tos",templateUrl:"app/tos/tos.html",controller:"TosCtrl"})}]),angular.module("hopeApp").directive("hBalance",["$timeout","$rootScope","$compile","wallet","coin",function(a,b,c,d,e){return{templateUrl:"components/directives/hBalance/hBalance.html",restrict:"ECMA",scope:{},link:function(a,c,f){var g=c.css("color"),h=b.$on("diceBet:create:my",function(a,b){var d=b.isRollLow&&b.roll<b.target||!b.isRollLow&&b.roll>b.target;c.css("color",d?jQuery.Color(0,255,0):jQuery.Color(255,100,100)),c.stop().animate({color:g},1e3)});a.$on("$destroy",h),a.$watch(function(){return d.currentWallet.balance},function(b){if(!isNaN(b)){var c=b,d=f.nosign&&"false"!==f.nosign.toLowerCase(),g=f.maxlen,h=e.fractionalLength(),i=Big(e.toStandardUnit(c)).round(h),j=i.abs().toFixed().split("."),k={s:i.s,i:i.s>0||d?j[0]:"-"+j[0],f:j.length>1?"."+j[1]:"",z:(j.length>1?"":".")+new Array(h-(j.length>1?j[1].length:0)+1).join("0")};if(g){var l=parseInt(g);k.i=k.i.substring(0,l),k.f=k.f.substring(0,l-k.i.length),k.z=k.z.substring(0,l-k.i.length-k.f.length)}a.coin=k}},!0)}}}]),angular.module("hopeApp").directive("hBetAmount",["wallet","coin",function(a,b){return{require:"ngModel",restrict:"ECMA",link:function(c,d,e,f){c.$watchGroup([e.ngModel,function(){return a.currentWallet.balance}],function(a){isFinite(a[0])&&(f.$setValidity("maxBalance",Big(a[0]).lte(b.toStandardUnit(a[1]||0))),Big(a[0]).lt(1e-6)&&Big(a[0]).gt(0)&&(f.$setViewValue(Big(a[0]).toFixed()),f.$render()))})}}}]),angular.module("hopeApp").directive("hChat",["socket",function(a){return{restrict:"ECMA",link:function(b,c){var d=!0;b.$watch(function(){return c.hasClass("toggled")},function(c){b.isChatOpened=c,c&&(b.unseenMessagesCount=0,d&&(d=!1,a.socket.emit("chat:hello")))})}}}]),angular.module("hopeApp").directive("hCoin",["coin",function(a){return{templateUrl:"components/directives/hCoin/hCoin.html",restrict:"ECMA",scope:{amount:"=",win:"="},link:function(b,c,d){var e=b.$watch("[amount, win]",function(c){if(!isNaN(c[0])){d.bindonce&&e();var f=c[0],g=d.nosign&&"false"!==d.nosign.toLowerCase(),h=parseInt(d.maxlen),i=parseInt(d.fraclen),j=a.fractionalLength(),k=Big(a.toStandardUnit(f)).round(j),l=k.abs().toFixed().split("."),m={s:k.s,i:k.s>0||g?l[0]:"-"+l[0],f:l.length>1?"."+l[1]:"",z:(l.length>1?"":".")+new Array(j-(l.length>1?l[1].length:0)+1).join("0")};if(i){var n=i+1;m.f=m.f.substring(0,n),m.z=m.z.substring(0,n-m.f.length)}else h&&(m.f=m.f.substring(0,h-m.i.length),m.z=m.z.substring(0,h-m.i.length-m.f.length));b.coin=m}},!0)}}}]),angular.module("hopeApp").directive("hIRadioCheck",["$timeout","$parse",function(a){return{restrict:"ECMA",require:"ngModel",link:function(b,c,d,e){return a(function(){var a;return a=d.value,b.$watch(d.ngModel,function(){$(c).iCheck("update")}),$(c).iCheck({checkboxClass:"icheckbox_minimal",radioClass:"iradio_minimal"}).on("ifChanged",function(f){return"checkbox"===$(c).attr("type")&&d.ngModel&&b.$apply(function(){return e.$setViewValue(f.target.checked)}),"radio"===$(c).attr("type")&&d.ngModel?b.$apply(function(){return e.$setViewValue(a)}):void 0})})}}}]),angular.module("hopeApp").directive("hKellySelect",["$timeout","$rootScope","wallet",function(a,b,c){return{restrict:"EMCA",require:"ngModel",link:function(b,d,e){b.kellyOptions=[{name:"0.5x Kelly (conservative)",amount:.5},{name:"1x Kelly (recommended)",amount:1},{name:"2x Kelly (aggresive)",amount:2},{name:"5x Kelly",amount:5},{name:"10x Kelly (very aggresive)",amount:10}],b.kelly=b.kellyOptions[0],1!==c.currentWallet.accountId&&(c.currentWallet.kelly<5&&(49183!==c.currentWallet.accountId||27628!==c.currentWallet.accountId)?b.kellyOptions.splice(3,2):c.currentWallet.kelly<10&&b.kellyOptions.splice(4,1)),b.setKelly=function(a){c.setKelly(a)},b.$watch(function(){return c.currentWallet.kelly},function(c){if(!b.kelly||b.kelly.amount!==c){for(var d=0;d<b.kellyOptions.length&&b.kellyOptions[d].amount!==c;)d++;a(function(){b.kelly=b.kellyOptions[d]})}}),a(function(){angular.element(d).selectpicker()}),b.$watch(e.ngModel,function(){angular.element(d).selectpicker("refresh")})}}}]),angular.module("hopeApp").directive("hLangSelect",["$translate","$q",function(a,b){return{templateUrl:"components/directives/hLangSelect/hLangSelect.html",scope:{},restrict:"EC",link:function(c,d){c.languageName={en_US:"English",zh_CN:"Chinese",ru_RU:"Russian"};var e={en_US:"flag-gb",zh_CN:"flag-cn",ru_RU:"flag-ru"};c.currentLanguage=a.use(),d.find(".current-language").addClass(e[c.currentLanguage]),c.changeLanguage=function(f){return f===c.currentLanguage?b.reject("changeLanguage"):a.use(f).then(function(){d.find(".current-language").removeClass(e[c.currentLanguage]),c.currentLanguage=a.use(),d.find(".current-language").addClass(e[c.currentLanguage])})}}}}]),angular.module("hopeApp").directive("hPayout",function(){return{templateUrl:"components/directives/hPayout/hPayout.html",restrict:"ECMA",scope:{payout:"="},link:function(a,b,c){var d=a.$watch("[payout]",function(b){if(!isNaN(b[0])){c.bindonce&&d();var e=Big(b[0]).toFixed(8),f=e.toString().split(".");a.fracpayout={i:f[0],f:f[0].length<4?"."+f[1].substring(0,2):"",ff:f[0].length<2?f[1].substring(2,4):""}}},!0)}}}),angular.module("hopeApp").directive("hRoll",function(){return{templateUrl:"components/directives/hRoll/hRoll.html",restrict:"ECMA",scope:{roll:"=",win:"=",lt:"="},link:function(a,b,c){var d=a.$watch("[roll, win, lt]",function(b){if(!isNaN(b[0])){c.bindonce&&d();var e=Big(b[0]).div(1e4).toFixed(4),f=e.toString().split(".");a.fracroll={s:void 0!==a.lt?a.lt?'<i class="fa fa-long-arrow-down">':'<i class="fa fa-long-arrow-up">':"",i:(f[0].length<2?"0":"")+f[0],f1:"."+f[1].substring(0,2),f2:f[1].substring(2,4)}}},!0)}}}),angular.module("hopeApp").directive("hSiteSelect",["site","log","wallet","$q","$cookieStore","constant",function(a,b,c,d,e,f){return{templateUrl:"components/directives/hSiteSelect/hSiteSelect.html",scope:{},restrict:"EC",link:function(g){g.currentSite=a.currentSite,g.siteCurrency=["BTC","XMR","BCH"],g.changeSite=function(g){return a.currentSite.id===g?d.reject("changeSite"):a.load(g).then(c.load).then(function(){return b.loadDiceBetLog(g).then(function(){e.put("siteId",g,{expires:f.EXPIRATION_DAYS})})})}}}}]),angular.module("hopeApp").directive("hSwitch",["$timeout","$rootScope",function(a){return{restrict:"ECMA",require:"ngModel",link:function(b,c,d,e){a(function(){var f=angular.element($(c).closest(".make-switch"));b.$watch(d.ngModel,function(b){a(function(){f.bootstrapSwitch("setState",b)})}),f.on("switch-change",function(a,c){b.$apply(function(){e.$setViewValue(c.value)})})})}}}]),angular.module("hopeApp").directive("hUsername",["$timeout",function(a){return{template:"{{ username }}",restrict:"ECMA",scope:{username:"="},link:function(b,c){var d=95;a(function(){var a=$(c).outerWidth();if(a>d){var e=b.username.indexOf("-")||b.username.length,f=parseInt(Math.min((a-d)/2.5+1,e/1.5)),g=new Array(f+1).join(".");b.username=b.username.slice(0,e-f)+g+(e>=0?b.username.slice(e):"")}})}}}]),angular.module("hopeApp").directive("hWinChance",function(){return{require:"ngModel",restrict:"ECMA",link:function(a,b,c,d){a.$watch(c.ngModel,function(b){isFinite(b)&&(d.$setValidity("minChance",Big(b).gte(a.minPChance)),d.$setValidity("maxChance",Big(b).lte(a.maxPChance)),Big(b).lt(1e-6)&&Big(b).gt(0)&&(d.$setViewValue(Big(b).toFixed()),d.$render()))})}}}),angular.module("hopeApp").directive("hWindowBlurFocus",["$window","$rootScope",function(a,b){return{restrict:"A",link:function(c){function d(){b.$broadcast("window:blur")}function e(){b.$broadcast("window:focus")}function f(){g.off("blur",d),h.off("focus",e)}var g=angular.element(a).on("blur",d),h=angular.element(a).on("focus",e);c.$on("$destroy",f)}}}]),angular.module("hopeApp").controller("ChatCtrl",["$scope","chat","account","$idle","$rootScope","Restangular",function(a,b,c,d,e){a.chat=b,a.account=c,a.unseenMessagesCount=0,a.c={room:"en_US"},a.mini=!1,a.isChatOpened=!1,a.send=function(){d.watch(),a.c.message=b.send(a.c)},e.$on("socket:chat:create",function(){a.isChatOpened||a.unseenMessagesCount++})}]),angular.module("hopeApp").controller("DepositCtrl",["$scope","wallet","site",function(a,b,c){a.currentWallet=b.currentWallet,a.currentSite=c.currentSite,b.loadDepositAddress()}]),angular.module("hopeApp").controller("DiceBetCtrl",["$scope","$cookieStore","site","wallet","dice","coin","hotkeys","$modal","constant",function(a,b,c,d,e,f,g,h,i){function j(a,c){var d=b.get("diceBet");d[a]=c,b.put("diceBet",d,{expires:i.EXPIRATION_DAYS})}function k(a){return e.roll({siteId:c.currentSite.id,amount:f.toSmallestUnit(a.amount),target:a.isRollLow?Big(a.pChance).times(1e4).round():1e6-Big(a.pChance).times(1e4).round()-1,payout:a.payout,isRollLow:a.isRollLow,isFixedPayout:a.isFixedPayout})}function l(b){return a.$parent.isPlayTabActive()&&(a.isHotKeysEnabled||b)&&!a.autoRoll.active}b.get("diceBet")||b.put("diceBet",{isRollLow:!0,pChance:50,isHotKeysEnabled:!1,isFixedPayout:!1,showAutoRoll:!1,autoRollLossMultiplier:1,siteId:c.currentSite.id},{expires:i.COOKIE_EXPIRATION_DAYS}),a.minPChance=.01,a.maxPChance=97,a.isRolling=!1,a.bet={amount:0,pChance:b.get("diceBet").pChance,isRollLow:b.get("diceBet").isRollLow,pHouseEdge:0},a.site=c,a.bet.isFixedPayout=!1,a.isHotKeysEnabled=b.get("diceBet").isHotKeysEnabled,a.showAutoRoll=b.get("diceBet").showAutoRoll;var m=!1,n=null,o=!1,p=!1,q=500,r={expires:0};a.getPaybackRatio=function(b){var d=Date.now();if(!b&&r.expires>=d)return r.value;var e=c.currentSite;if(e.eBankroll){var g=isNaN(a.bet.amount)?0:f.toSmallestUnit(a.bet.amount);if(a.bet.isFixedPayout&&isFinite(a.bet.payout)){var h=n||a.bet.payout,i=Big(h).minus(1).times(g),j=i.div(e.eBankroll),k=Number(Big(1).minus(j).round(15));k=Math.max(0,Math.min(k,e.maxPayback)),(!r.value||!Big(r.value).eq(k)||n&&!Big(n).eq(a.bet.payout))&&(a.bet.pChance=parseFloat(Big(k).div(h).times(100).round(4)),m||(a.bet.payout=parseFloat(Big(k).div(a.bet.pChance).times(100).round(8,0))))}else if(!a.bet.isFixedPayout&&isFinite(a.bet.pChance)){var l=Big(g).times(a.bet.pChance).div(100),o=Big(e.eBankroll).times(a.bet.pChance).div(100),k=Number(o.plus(l).div(o.plus(g)).round(15));k=Math.max(0,Math.min(k,e.maxPayback)),r.value&&Big(r.value).eq(k)||(a.bet.payout=parseFloat(Big(k).div(a.bet.pChance).times(100).round(8,0)))}else k=0}else k=0;return a.bet.pHouseEdge=100-100*k,r.value=k,r.expires=d+q,r.value};var s=!1;a.$watch(function(){return c.currentSite.eBankroll},function(){var c=a.getPaybackRatio(!0);!s&&c&&(s=!0,b.get("diceBet").isFixedPayout&&c&&(a.pChanceChanged(),a.bet.isFixedPayout=!0,n=a.bet.payout))}),a.amountChanged=function(){isFinite(a.bet.amount)&&a.getPaybackRatio(!0)},a.payoutChanged=function(){if(null!==a.bet.payout&&isFinite(a.bet.payout)&&a.bet.payout>=1e-8){o&&a.lockPayout();var b=parseFloat(Big(a.getPaybackRatio(!0)).div(a.bet.payout).times(100).round(4));a.bet.pChance=Math.max(a.minPChance,Math.min(b,a.maxPChance))}},a.pChanceChanged=function(){isFinite(a.bet.pChance)&&a.bet.pChance>=a.minPChance&&a.bet.pChance<=a.maxPChance&&(p&&a.lockPChance(),a.bet.payout=parseFloat(Big(a.getPaybackRatio(!0)).div(a.bet.pChance).times(100).round(8,0)))},a.roundPChance=function(){p=!1,a.bet.pChance=isFinite(a.bet.pChance)?Math.min(a.maxPChance,Math.max(a.minPChance,Number(Big(a.bet.pChance).round(4)))):a.minPChance,a.pChanceChanged(),j("pChance",a.bet.pChance)},a.roundPayout=function(){var b=a.getPaybackRatio(!0),c=parseFloat(Big(b).div(a.maxPChance).times(100).round(8,1)),d=parseFloat(Big(b).div(a.minPChance).times(100).round(8,0));o=!1,m=!1,a.bet.payout=null!==a.bet.payout&&isFinite(a.bet.payout)?Math.min(d,Math.max(c,Number(Big(a.bet.payout).round(8,0)))):c,a.payoutChanged(),a.pChanceChanged(),j("pChance",a.bet.pChance),n=a.bet.payout},a.focusPayout=function(){o=!0,n=null,m=!0,a.getPaybackRatio(!0)},a.focusPChance=function(){p=!0,a.getPaybackRatio(!0)},a.lockPayout=function(){a.bet.isFixedPayout=!0,j("isFixedPayout",a.bet.isFixedPayout)},a.lockPChance=function(){a.bet.isFixedPayout=!1,j("isFixedPayout",a.bet.isFixedPayout),n=null},a.bet.getProfitIfWin=function(){return null!==a.bet.payout&&isFinite(a.bet.payout)&&isFinite(a.bet.amount)?f.toSmallestUnit(Number(Big(a.bet.payout).minus(1).times(a.bet.amount))):0},a.getMaxAmount=function(b){var e=c.currentSite,g=Math.min(a.bet.pChance,100*e.minPayback-1e-4),h=Big(e.minPayback).div(g).times(100),i=Big(1).minus(e.minPayback).div(h.minus(1)).times(e.eBankroll).round(0,0),j=i.gt(9007199254740991)?9007199254740991:parseInt(i);return b&&(a.bet.pChance=g),f.toStandardUnit(Math.min(d.currentWallet.balance||0,j))},a.roll=function(){a.isRolling||(a.isRolling=!0,k(a.bet).then(function(){a.isRolling=!1})["catch"](function(){a.isRolling=!1}))},a.autoRoll={},a.autoRoll.active=!1,a.autoRoll.times=1e3,a.autoRoll.lossMultiplier=b.get("diceBet").autoRollLossMultiplier||2,a.autoRoll.minBalance=0,a.startAutoRoll=function(b){a.isRolling||(a.autoRoll.active=!0,a.autoRoll.baseAmount=a.bet.amount,function c(){a.autoRoll.times>0&&a.autoRoll.active&&!b.$invalid&&d.currentWallet.balance>=f.toSmallestUnit(a.autoRoll.minBalance)?(a.isRolling=!0,k(a.bet).then(function(b){a.bet.amount=b.isRollLow&&b.roll<b.target||!b.isRollLow&&b.roll>b.target?a.autoRoll.baseAmount:parseFloat(Big(a.bet.amount).times(a.autoRoll.lossMultiplier).round(f.fractionalLength(),0)),a.getPaybackRatio(!0),a.autoRoll.times--,c()})["catch"](function(){setTimeout(c,5e3)})):(a.isRolling=!1,a.autoRoll.active=!1)}())},a.$on("$destroy",function(){a.autoRoll.active=!1}),a.stopAutoRoll=function(){a.autoRoll.active=!1},a.$watch("bet.isRollLow",function(a){j("isRollLow",a)}),a.$watch("isHotKeysEnabled",function(a){j("isHotKeysEnabled",a)}),a.$watch("showAutoRoll",function(a){j("showAutoRoll",a)}),a.$watch("autoRoll.lossMultiplier",function(a){j("autoRollLossMultiplier",a)}),a.betAmountUp=function(){a.bet.amount=Math.min(Math.max(parseFloat(Big(a.bet.amount).times(2).round(f.fractionalLength(),0)),f.toStandardUnit(1)),a.getMaxAmount()),a.getPaybackRatio(!0)},a.betAmountDown=function(){var b=parseFloat(Big(a.bet.amount).div(2).round(f.fractionalLength(),0));a.bet.amount=Big(b).gte(f.toStandardUnit(1))?b:0,a.getPaybackRatio(!0)},a.betAmountMax=function(){a.bet.isFixedPayout?(a.lockPChance(),a.getPaybackRatio(!0),a.bet.amount=a.getMaxAmount(!0),a.getPaybackRatio(!0),a.lockPayout()):(a.getPaybackRatio(!0),a.bet.amount=a.getMaxAmount(!0),a.getPaybackRatio(!0))},a.betChanceUp=function(){a.lockPChance(),a.bet.pChance=Math.min(parseFloat(Big(a.bet.pChance).plus(10)),a.maxPChance),a.pChanceChanged(),j("pChance",a.bet.pChance)},a.betChanceDown=function(){a.lockPChance(),a.bet.pChance=Math.max(parseFloat(Big(a.bet.pChance).minus(10)),a.minPChance),a.pChanceChanged(),j("pChance",a.bet.pChance)},a.toggleCheatSheet=g.toggleCheatSheet,g.bindTo(a).add({combo:"w",action:"keyup",description:"Bet Amount x2",callback:function(){l()&&a.betAmountUp()}}).add({combo:"shift+w",action:"keyup",description:"Bet Amount MAX",callback:function(){l()&&a.betAmountMax()}}).add({combo:"s",action:"keyup",description:"Bet Amount /2",callback:function(){l()&&a.betAmountDown()}}).add({combo:"a",action:"keyup",description:"Win Chance +10%",callback:function(){l()&&a.betChanceUp()}}).add({combo:"d",action:"keyup",description:"Win Chance -10%",callback:function(){l()&&a.betChanceDown()}}).add({combo:"r",action:"keyup",description:"Roll",callback:function(){l()&&a.roll()}}).add({combo:"h",action:"keyup",description:"Roll High",callback:function(){l()&&(a.betForm.$invalid||(a.bet.isRollLow=!1))}}).add({combo:"l",action:"keyup",description:"Roll Low",callback:function(){l()&&(a.betForm.$invalid||(a.bet.isRollLow=!0))}}),a.openModalHES=function(){h.open({templateUrl:"components/modals/houseEdgeShort/houseEdgeShort.html",controller:"ModalHouseEdgeShortCtrl"})}}]),angular.module("hopeApp").controller("DiceBoxCtrl",["$scope","wallet","account","site",function(a,b,c,d){a.wallet=b,a.currentSite=d.currentSite,a.account=c,a.activeTab=0,a.isPlayTabActive=function(){return 0===a.activeTab}}]),angular.module("hopeApp").controller("DiceLogCtrl",["$scope","log","account",function(a,b,c){a.account=c,a.diceBetLog=b.diceBetLog,a.activeTab=0}]),angular.module("hopeApp").controller("InvestmentCtrl",["$scope","coin","site","wallet","account","$timeout",function(a,b,c,d,e,f){a.investment={amount:0},a.currentWallet=d.currentWallet,a.currentAccount=e.currentAccount,a.currentSite=c.currentSite,a.getProfit=function(){return parseInt(d.currentWallet.investment-d.currentWallet.accumulatedInvestment)},a.getPShareOfInvestment=function(){return Number(100*d.currentWallet.shareOfInvestment).toFixed(8)},a.invest=function(c,e){a.investment.submitted=!0;var g=b.toSmallestUnit(a.investment.amount*(e?-1:1));0!==g&&d.invest(g).then(function(){a.investment.result={status:200}}).then(d.load)["catch"](function(b){a.investment.result=b})["finally"](function(){a.investment={result:a.investment.result,amount:0},f(function(){delete a.investment.result},3e3),c.$setPristine()})},a.investAll=function(){a.investment.submitted=!0,d.invest(d.currentWallet.balance).then(function(){a.investment.result={status:200}}).then(d.load)["catch"](function(b){a.investment.result=b})["finally"](function(){a.investment={result:a.investment.result,amount:0},f(function(){delete a.investment.result},3e3),form.$setPristine()})},a.divestAll=function(){a.investment.submitted=!0,d.divestAll().then(function(){a.investment.result={status:200}}).then(d.load)["catch"](function(b){a.investment.result=b})["finally"](function(){a.investment={result:a.investment.result,amount:0},f(function(){delete a.investment.result},3e3),form.$setPristine()})}}]),angular.module("hopeApp").controller("LoadingCtrl",["$scope","$timeout",function(a,b){var c,d=5e3,e=[];e.push("TIPS: You can use hotkeys to roll faster"),e.push("TIPS: Deposit only takes one confirmation"),e.push("TIPS: Use preloaded link to attract others to be your affiliate"),e.push("TIPS: Use two-factor authentication to fully secure your account"),e.push("TIPS: Always setup username and password for easy access"),e.push("TIPS: Provably fair means there is no way for the site to manipulate your rolls"),e.push("TIPS: Don't forget to say 'Hi' in the chat room, and be nice to others"),e.push("TIPS: You can check your transaction history under history page"),e.push("TIPS: Refer your friends using referral link to get bonus"),a.message="Loading your favorite bitcoin dice site...",b(function f(){a.message=e[parseInt(Math.random()*e.length)],c=b(f,d)},d),a.$on("$destroy",function(){b.cancel(c)})}]),angular.module("hopeApp").controller("MyStatsCtrl",["$scope","wallet",function(a,b){a.currentWallet=b.currentWallet}]),angular.module("hopeApp").controller("NavbarCtrl",["$scope","$state","account","site","auth","socket",function(a,b,c,d,e,f){a.$state=b,a.isCollapsed=!0,a.site=d,a.socket=f,a.account=c,a.signOut=function(){return e.signOut().then(function(){b.go("lp")})}}]),angular.module("hopeApp").controller("TestAccountCtrl",["$scope","account",function(a,b){a.account=b,a.si={},a.su={},a.ut={},a.cp={},a.cas={},a.totp,a.signIn=function(){b.signIn(a.si)},a.signUp=function(){b.signUp(a.su)},a.getTotp=function(){b.getTotpAsync().then(function(b){a.totp=b})},a.updateTotp=function(){b.updateTotp(a.ut).then(function(b){a.totp=b})},a.removeTotp=function(){b.removeTotp(a.ut).then(function(b){a.totp=b})},a.changePassword=function(){b.changePassword(a.cp.oldPassword,a.cp.newPassword)},a.changeAccountSeed=function(){b.changeAccountSeed(a.cas.accountSeed)}}]),angular.module("hopeApp").controller("TestLogCtrl",["$scope","account","log","dice","socket",function(a,b,c,d,e){a.log=c,a.socket=e,a.roll=function(){d.roll({accountId:b.currentAccount.accountId,siteId:1,amount:1,target:5e5,payout:1.99,isRollLow:!0,isFixedPayout:!0
})},c.loadDiceBetLog(1,30,1)}]),angular.module("hopeApp").controller("TestStatsCtrl",["$scope","site","wallet","log",function(a,b,c,d){a.site=b,a.wallet=c,b.load(1).then(c.load).then(d.loadTxLog)}]),angular.module("hopeApp").controller("WithdrawalCtrl",["$scope","coin","wallet","$timeout",function(a,b,c){a.withdrawalAmount=0,a.withdraw=function(d){a.withdrawal.submitted=!0,a.withdrawal.amount=b.toSmallestUnit(a.withdrawalAmount),c.withdraw(a.withdrawal).then(function(b){a.withdrawal.result={status:200,txHash:b}})["catch"](function(b){a.withdrawal.result=b})["finally"](function(){a.withdrawal={result:a.withdrawal.result,amount:0},a.withdrawalAmount=0,d.$setPristine()})}}]),angular.module("hopeApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("hopeApp").factory("account",["Restangular","$http","$q","$cookieStore","$rootScope","constant","socket","site",function(a,b,c,d,e,f,g,h){function i(){return j.promise=a.one("accounts","me").get().then(function(a){return angular.copy(a,j),g.connect(),a}),j.promise}var j={};return{currentAccount:j,load:i,isSignedIn:function(){return j.hasOwnProperty("id")},isSignedInAsync:function(){var a=c.defer();return j.promise?j.promise.then(function(){a.resolve(!0)})["catch"](function(){a.resolve(!1)}):a.resolve(j.hasOwnProperty("id")),a.promise},getTotpAsync:function(){return this.isSignedInAsync().then(function(b){return b?a.one("accounts","totp").get().then(function(a){return a.plain()}):c.reject("getTotpAsync")})},updateTotp:function(b){return a.one("accounts","totp").customPUT(b).then(this.getTotpAsync.bind(this))},removeTotp:function(b){return a.one("accounts","totp").remove(b).then(this.getTotpAsync.bind(this))},changePassword:function(b,c){return a.one("accounts","password").customPUT({oldPassword:b,newPassword:c})},changeAccountSeed:function(b){return a.one("accounts","accountSeed").customPUT({accountSeed:b}).then(function(a){j.accountSeed=a.accountSeed})},randomizeServerSeed:function(){return a.one("accounts","randomizeseed").get().then(function(a){j.serverSeedHash=a.serverSeedHash,j.nonce=0})},getDownlines:function(){return a.oneUrl("accounts/referred/"+h.currentSite.id).get().then(function(a){return a.plain()})},signUp:function(b){return a.all("accounts").post(b).then(function(a){return d.put("token",a.token,{expires:f.EXPIRATION_DAYS}),i()})},signIn:function(b){var e,g=c.defer();return e=b.hash?a.oneUrl(b.hash,"/auth/hash/"+b.hash).get():a.allUrl("auth/local","/auth/local").post({username:b.username,password:b.password,code:b.code,captcha:"094t3y8e47byegr"}),e.then(function(a){d.put("token",a.token,{expires:f.EXPIRATION_DAYS}),i().then(function(a){g.resolve(a.plain())})})["catch"](function(a){this.signOut(),g.reject(a)}.bind(this)),g.promise},signOut:function(){return a.one("accounts","logout").get().then(function(){e.$broadcast("account:signOut"),d.remove("token"),d.remove("diceBet"),g.disconnect(),angular.copy({},j)})},setUserPass:function(b,c){return a.one("accounts","userpass").customPUT({username:b,password:c}).then(function(){j.username=b,delete j.authHashLink})},enableInvestment:function(b){return a.one("accounts","enableinvestment").customPUT({enable:b}).then(function(){j.isInvestmentEnabled=b})},isPregeneratedUsername:function(){return j.username&&j.username.indexOf("-")>0}}}]),angular.module("hopeApp").factory("auth",["$cookieStore","$q","account","site","wallet","log","chat","constant",function(a,b,c,d,e,f,g,h){function i(a){return d.load(a).then(e.load).then(function(){return b.all([f.loadDiceBetLog(a),g.load()]).then(function(){j=null,k=!0,f.loadMyDiceBetLog(a)})})}var j=null,k=!1;return a.get("token")&&(j=c.load().then(function(){return i(a.get("siteId")||1)})),{signIn:function(b,d){return j=c.signIn(b).then(function(){a.put("siteId",d,{expires:h.EXPIRATION_DAYS})}).then(function(){return i(d)})},signUp:function(b,d){return j=c.signUp(b).then(function(){a.put("siteId",d,{expires:h.EXPIRATION_DAYS})}).then(function(){return i(d)})},signOut:function(){return c.signOut().then(function(){g.unload(),k=!1,a.remove("siteId")})},isSignedInAsync:function(){var a=b.defer();return j?j.then(function(){a.resolve(!0)})["catch"](function(){a.resolve(!1)}):a.resolve(k),a.promise}}}]),angular.module("hopeApp").factory("chat",["Restangular","account","site","socket","coin","$sce","$idle","$rootScope","$filter",function(a,b,c,d,e,f,g,h,i){function j(){n.push(h.$on("socket:chat:create",function(a,b){if(m.length>l&&m.shift(),b.key){for(var c=m.length-1;c>=0&&m[c].key!==b.key;)c--;c>=0&&m.splice(c,1)}"_private"===b.room.substr(0,8)&&(b.whisper=!0),b.message=emojify.replace(b.message),b.time=i("date")(b.time,"HH:mm"),m.push(b)})),n.push(h.$on("socket:chat:delete",function(a,b){for(var c=m.length-1;c>=0&&m[c].id!==b;)c--;c>=0&&m.splice(c,1)}))}function k(a){h.$emit("socket:chat:create",{message:a,room:"public",username:"System",role:9})}var l=200,m=[],n=[],o={};return emojify.setConfig({img_dir:"assets/img/emoji"}),{log:m,load:function(b){return a.one("chats",b||"en_US").getList().then(function(a){angular.copy(a.plain(),m),m.forEach(function(a){"_private"===a.room.substr(0,8)&&(a.whisper=!0),a.message=emojify.replace(a.message),a.time=i("date")(a.time,"HH:mm")}),0===n.length&&j()})},unload:function(){angular.copy([],m),n.forEach(function(a){a()}),n.length=0},send:function(a){return"/"===a.message.charAt(0)?this.exec(a.message):(a.key=parseInt((new Date).getTime()),d.socket.emit("chat:create",a),m.push({accountId:b.currentAccount.id,username:b.currentAccount.username,message:emojify.replace($("<div>").text(a.message).html()),role:0,room:a.room,key:a.key,pending:!0}),"")},"delete":function(a){this.exec("/deletemessage "+a)},silence:function(a){this.exec("/silencebyid "+a)},exec:function(a){var b=a.split(" ").filter(function(a){return a&&a.length>0}),f=b.shift().substr(1);if(f.length>0)switch(f){case"msg":return d.socket.emit("chat:command",{command:f,params:[b[0],a.substr(f.length+b[0].length+2)]}),"/"+f+" "+b[0]+" ";case"tip":return 2===b.length&&(b[1]=e.toSmallestUnit(b[1]),b.push(c.currentSite.id),d.socket.emit("chat:command",{command:f,params:b})),"";case"transfer":return 3===b.length&&(k("Preparing to transfer "+b[1]+" coin to "+b[0]+'. Type "/confirm transfer" to confirm or "/cancel" to cancel.'),b[1]=e.toSmallestUnit(b[1]),b.push(c.currentSite.id),o={command:f,params:b}),"";case"confirm":b[0]&&b[0]===o.command?(d.socket.emit("chat:command",o),o={}):k("Nothing to confirm");break;case"cancel":o={},k("Command cancelled");break;default:return d.socket.emit("chat:command",{command:f,params:b}),""}}}}]),angular.module("hopeApp").factory("coin",["site",function(a){return{fractionalLength:function(){if(!a.currentSite.id)return 8;switch(a.currentSite.currency.name){case"Bitcoin":return 8;case"Monero":return 12;case"Bitcoin Cash":return 8;default:return 8}},toSmallestUnit:function(a){return parseInt(Big(a).times(Math.pow(10,this.fractionalLength())).valueOf())},toStandardUnit:function(a){return parseFloat(Big(a).div(Math.pow(10,this.fractionalLength())).valueOf())}}}]),angular.module("hopeApp").factory("dice",["Restangular","account","log","$rootScope",function(a,b,c,d){return{roll:function(e){return a.one("dicebets").withHttpConfig({ignoreLoadingBar:!0}).customPOST(e).then(function(a){var e=a.plain();return b.currentAccount.nonce++,e.username=b.currentAccount.username,c.processMyBet(e),d.$broadcast("diceBet:create:my",e),e})}}}]),angular.module("hopeApp").factory("log",["Restangular","account","site","constant","$rootScope","$q","$filter",function(a,b,c,d,e,f,g){function h(a){a.processTime=g("date")(a.processTime,"HH:mm")}function i(a){if(!p&&m.hasOwnProperty("allBets")&&a.accountId!==b.currentAccount.id){h(a),m.allBets.length>d.MAX_LOG_LENGTH&&m.allBets.pop();for(var c=0;c<m.allBets.length&&m.allBets[c].id>a.id&&m.allBets[c].accountId!==b.currentAccount.id;)c++;(c>=m.allBets.length||m.allBets[c].id!==a.id)&&m.allBets.splice(c,0,a),a.amount>=l&&(m.highBets.length>d.MAX_LOG_LENGTH&&m.highBets.pop(),m.highBets.unshift(a)),_.defer(function(){e.$apply()})}}function j(a){m.hasOwnProperty("allBets")&&(h(a),m.allBets.length>d.MAX_LOG_LENGTH&&m.allBets.pop(),m.allBets.unshift(a),a.amount>=l&&(m.highBets.length>d.MAX_LOG_LENGTH&&m.highBets.pop(),m.highBets.unshift(a)),m.myBets.length>d.MAX_LOG_LENGTH&&m.myBets.pop(),m.myBets.unshift(a),_.defer(function(){e.$apply()}))}var k,l,m={},n=[],o={},p=!1;return e.$on("window:blur",function(){p=!0}),e.$on("window:focus",function(){p=!1}),e.$on("socket:diceBet:create",function(a,b){if(0!==b.length)for(var c=d.BROADCAST_BET_TIME_LIMIT/(b.length+1),e=0;e<b.length;e++)b[e].siteId===k&&setTimeout(i,e*c,b[e])}),{diceBetLog:m,processMyBet:j,txLog:n,leaderboardLog:o,loadDiceBetLog:function(b){switch(k=parseInt(b)||c.currentSite.id,angular.copy({},m),c.currentSite.currency.name){case"Bitcoin":l=5e6;break;case"Monero":l=25e11;break;case"Bitcoin Cash":l=1e7;break;default:l=5e6}return a.one("dicebets").one("preload").get({siteId:k,minAmount:l}).then(function(a){return angular.copy(a.plain(),m),m.allBets.forEach(h),m.highBets.forEach(h),m.myBets||(m.myBets=[]),m})},loadMyDiceBetLog:function(d){return k=parseInt(d)||c.currentSite.id,angular.copy([],m.myBets),a.one("dicebets").one("mylog").get({siteId:k,accountId:b.currentAccount.id}).then(function(a){return m.myBets.length>0?void 0:(angular.copy(a.plain(),m.myBets),m.myBets.forEach(h),m.myBets)})},loadTxLog:function(){var d=b.currentAccount.id,e=c.currentSite.id;return e&&d?a.one("accounts",d).one("sites",e).one("tx").get().then(function(a){angular.copy(a.plain(),n)}):f.reject("load: Site and account must be loaded")},loadLeaderboardLog:function(){var b=[];return b.push(a.all("dicebets").one("leaderboard").one("wager").getList(c.currentSite.id,{days:1}).then(function(a){o.dailyWager=a.plain()})),b.push(a.all("dicebets").one("leaderboard").one("wager").getList(c.currentSite.id,{days:30}).then(function(a){o.thirtyDaysWager=a.plain()})),b.push(a.all("dicebets").one("leaderboard").one("profit").getList(c.currentSite.id,{days:1}).then(function(a){o.dailyProfit=a.plain()})),b.push(a.all("dicebets").one("leaderboard").one("profit").getList(c.currentSite.id,{days:30}).then(function(a){o.thirtyDaysProfit=a.plain()})),f.all(b).then(function(){return o})}}}]),angular.module("hopeApp").factory("site",["Restangular","$rootScope","socket","$q",function(a,b,c){function d(a){for(var b=0,c=0;c<a.investments.length;c++)b+=a.investments[c].bankroll;return b}function e(a){for(var b=0,c=0;c<a.investments.length;c++)b+=a.investments[c].bankroll*a.investments[c].kelly;return b}function f(a){angular.copy(a,h),h.bankroll=d(h),h.eBankroll=e(h);for(var b=0;b<g.length&&g[b].id!==h.id;)b++;h.currency=b<g.length?g[b].currency:{}}var g=[],h={};return a.all("sites").getList().then(function(a){angular.copy(a.plain(),g)}),b.$on("socket:site:update",function(a,d){return h.id!==d.id?c.socket.emit("site:id",siteId):(f(d),void b.$broadcast("site:update:done",h))}),b.$on("socket:connect",function(){h.id&&c.socket.emit("site:id",h.id)}),b.$on("diceBet:create:my",function(a,b){b.siteId===h.id&&(h.bets++,h.wagered+=b.amount)}),{sites:g,currentSite:h,load:function(b){return a.one("sites",b).get().then(function(a){f(a.plain()),c.isConnected()&&c.socket.emit("site:id",b)})},getMaxWin:function(){return h.eBankroll?parseInt((1-h.minPayback)*h.eBankroll):0}}}]),angular.module("hopeApp").factory("socket",["socketFactory","$cookieStore","$rootScope","$q",function(a,b,c){function d(){e=io("",{path:"/socket.io-client"}),f=e.connect(),angular.copy(a({ioSocket:e}),g),g.on("connect",function(){var a=b.get("token");a?g.emit("authenticate",{token:a}):f.io.disconnect()}),g.on("error",function(){h&&(console.log("Reconnecting socket... ("+h+" tries left)"),h--,f.io.reconnect())}),g.on("requestReauthenticate",function(){var a=b.get("token");a?g.emit("reauthenticate",{token:a}):f.io.disconnect()}),c.$on("$idleTimeout",function(){f.connected&&(console.log("Disconnecting socket..."),f.io.disconnect())}),c.$on("$idleEnd",function(){b.get("token")&&!f.connected&&(f.io.reconnect(),console.log("Reconnecting socket..."))}),g.forward("diceBet:create"),g.forward("site:update"),g.forward("connect"),g.forward("wallet:updateBalanceAndShares"),g.forward("unprocessedDepositAmount:update"),g.forward("chat:create"),g.forward("chat:delete")}var e,f,g={},h=10;return{socket:g,connect:function(){f?f.connected||(f.io.skipReconnect=!1,f.io.reconnect()):d()},disconnect:function(){f.io.disconnect()},isConnected:function(){return f?f.connected:!1}}}]),angular.module("hopeApp").factory("wallet",["Restangular","$rootScope","socket","account","site","$q",function(a,b,c,d,e,f){function g(a){if(j.siteId===a.id){var b=_.find(a.investments,function(a){return Big(a.kelly).eq(j.kelly)});b&&(Big(b.totalShares).gt(0)?(j.investment=parseInt(Big(b.bankroll).times(j.shares.toFixed(15)).div(b.totalShares.toFixed(15)).round(0,0)),j.shareOfInvestment=parseFloat(Big(j.investment).times(j.kelly).div(a.eBankroll))):(j.investment=0,j.shareOfInvestment=0))}}function h(a){a.siteId===j.siteId&&(j.accumulatedInvestment+=a.amount,j.shares+=parseFloat(a.shareAmount),j.balance-=a.amount,e.load(e.currentSite.id))}function i(){k.push(b.$on("socket:wallet:updateBalanceAndShares",function(a,b){return d.currentAccount.id!==b.accountId||j.siteId!==b.siteId?console.log("socket:wallet:updateBalanceAndShares: Different site Id"):(j.balance=b.balance,j.shares=b.shares,void g(e.currentSite))})),k.push(b.$on("site:update:done",function(a,b){g(b)})),k.push(b.$on("diceBet:create:my",function(a,b){if(b.accountId===j.accountId&&b.siteId===j.siteId){var c=b.isRollLow?b.target>b.roll:b.target<=b.roll;j.balance=b.balanceAfter,j.wagered+=b.amount,c?(j.win++,j.amountWin+=b.profit):(j.lose++,j.amountLose+=-b.profit)}})),k.push(b.$on("socket:unprocessedDepositAmount:update",function(a,b){d.currentAccount.id===b.accountId&&j.siteId===b.siteId&&(j.unprocessedAmount=b.unprocessedAmount)}))}var j={},k=[];return b.$on("account:signOut",function(){angular.copy({},j),k.forEach(function(a){a()}),k.length=0}),{currentWallet:j,load:function(){var b=d.currentAccount.id,c=e.currentSite.id;return c&&b?a.one("accounts",b).one("sites",c).one("me").get().then(function(a){angular.copy(a.plain(),j),j.accountId=b,j.siteId=c,g(e.currentSite),0===k.length&&i()}):f.reject("load: Site and account must be loaded")},invest:function(b){return 0===b?f.when():a.one("accounts",d.currentAccount.id).one("sites",e.currentSite.id).customPUT({amount:b},"invest").then(h)},divestAll:function(){return a.one("accounts",d.currentAccount.id).one("sites",e.currentSite.id).one("divestall").get().then(h)},withdraw:function(b){return console.log(b),a.one("accounts",d.currentAccount.id).one("sites",e.currentSite.id).customPUT({amount:b.amount,address:b.address,pid:b.pid,code:b.code},"withdraw").then(function(a){return a.siteId===j.siteId?(j.balance-=a.amount,a.txHash):void 0})},createVoucher:function(b){return a.one("accounts",d.currentAccount.id).one("sites",e.currentSite.id).customPOST({amount:b.amount,minWager:b.minWager},"voucher").then(function(a){return a.plain()})},loadDepositAddress:function(){var b=d.currentAccount.id,c=e.currentSite.id;return c&&b?j.hasOwnProperty("accountId")?a.one("accounts",b).one("sites",c).one("deposit").get().then(function(a){j.depositAddress=a.plain()}):f.reject("load: Wallet must be loaded"):f.reject("load: Site and account must be loaded")},setEmergencyAddress:function(b){return a.one("accounts",d.currentAccount.id).one("sites",e.currentSite.id).customPUT({emergencyAddress:b},"emergencyAddress").then(function(a){j.emergencyAddress=a.emergencyAddress})},setKelly:function(b){return a.one("accounts",d.currentAccount.id).one("sites",e.currentSite.id).customPUT({amount:b},"kelly").then(function(){return j.kelly=b,f.all([this.load(j.id),e.load(e.currentSite.id)])}.bind(this))}}}]),angular.module("hopeApp").run(["$templateCache",function(a){a.put("app/account/account.html",'<div ng-include=&quot;components/includes/navbar/navbar.html&quot;></div><div class=container><div ui-view=""></div></div>'),a.put("app/account/history/history.html",'<div class="container account-history"><h1 translate=HISTORY class="text-center m-b-50"></h1><div ng-hide="txLog.length &gt; 0" class=text-center><span translate=HISTORY_PAGE.NO_HISTORY></span></div><table ng-show="txLog.length &gt; 0" class=table><thead><tr><th translate=HISTORY_PAGE.ID class="col-sm-1 col-xs-1"></th><th translate=HISTORY_PAGE.AMOUNT class="col-sm-2 col-xs-1 text-right"></th><th translate=HISTORY_PAGE.PROCESS_TIME class="col-sm-2 col-xs-4"></th><th translate=HISTORY_PAGE.TX_ID class="col-sm-7 hidden-xs"></th></tr></thead><tbody><tr ng-repeat="log in txLog"><td>{{ $index + 1 }}</td><td><div class=pull-right><span><i ng-show=log.fee class="fa fa-chevron-up text-danger"></i><i ng-hide=log.fee class="fa fa-chevron-down text-success"></i></span> <span amount=log.amount class=h-coin></span></div></td><td>{{ log.processTime | date:\'dd-MM-yy HH:mm\' }}</td><td class="tx-id hidden-xs">{{ log.txHash }}</td></tr></tbody></table></div>'),a.put("app/account/referral/referral.html",'<div class="container referral"><h1 translate=REFERRAL class="text-center m-b-50"></h1><div class=auth-referral-link><h3 translate=REFERRAL_PAGE.REFERRAL_LINK></h3><div translate=REFERRAL_PAGE.REFERRAL_LINK_CONTENT></div><form class="p-t-20 form-horizontal"><div class="form-group m-b-10"><div class="control-label col-sm-3">{{ "REFERRAL_PAGE.MY_REFERRAL_LINK" | translate }}:</div><div class=col-sm-7><input ng-model=referralLink readonly class="form-control"></div><div class=col-sm-2><button clip-copy=referralLink class="btn btn-alt"><span translate=COPY></span></button></div></div></form></div><hr class="whiter m-t-50 m-b-50"><div class="auth-preloaded-link p-t-20"><h3 translate=REFERRAL_PAGE.PRELOADED_LINK></h3><p translate=REFERRAL_PAGE.PRELOADED_LINK_CONTENT></p><div class=p-t-20><form name=preloadedForm novalidate ng-submit="preloadedForm.$valid &amp;&amp; createPreloadedLink(preloadedForm)" class=form-horizontal><div class="form-group m-b-10"><div class="control-label col-sm-3">{{ "REFERRAL_PAGE.CURRENT_BALANCE" | translate }}:</div><div class="control-label col-sm-3"><span amount=currentWallet.balance class="h-coin pull-left current-balance"></span></div></div><div class="form-group m-b-10"><div class="control-label col-sm-3">{{ "REFERRAL_PAGE.PRELOADED_BALANCE" | translate }}:</div><div class=col-sm-3><input type=number ng-model=preloaded.amount step=any min=0 required class="form-control"></div><div class="control-label col-sm-6"><div class=pull-left>{{ "REFERRAL_PAGE.BALANCE_RANGE" | translate }}</div></div></div><div class="form-group m-b-10"><div class="control-label col-sm-3">{{ "REFERRAL_PAGE.MIN_WAGER_MULTIPLIER" | translate }}:</div><div class=col-sm-2><div class=input-group><input type=number ng-model=preloaded.minWagerMultiplier step=1 min=0 max=10 required class="form-control has-addon"><div class=input-group-addon>×</div></div></div><div class="control-label col-sm-3"><div class=pull-left>{{ "REFERRAL_PAGE.WAGER_MULTIPLIER_RANGE" | translate }}</div></div></div><div class="form-group m-b-10"><div class="col-sm-2 col-sm-offset-3"><input type=submit value="{{ &quot;REFERRAL_PAGE.CREATE&quot; | translate }}" ng-disabled="preloaded.submitted || (preloadedForm.$dirty &amp;&amp; preloadedForm.$invalid)" class="btn btn-alt"></div></div></form><form class=form-horizontal><div class="form-group m-b-10"><div class="control-label col-sm-3">{{ "REFERRAL_PAGE.LINK" | translate }}:</div><div class=col-sm-7><input ng-model=preloaded.link readonly class="form-control"></div><div class=col-sm-2><button clip-copy=preloaded.link ng-click="" class="btn btn-alt"><span translate=COPY></span></button></div></div><div class=row><div class="col-sm-10 col-sm-offset-3"><div ng-show="preloaded.result.status !== 200" class=text-danger>{{ preloaded.result.data.message || preloaded.result.data }}</div></div></div></form></div></div><div class="auth-downlines p-t-20"><hr class="whiter m-t-50 m-b-50"><h3 translate=REFERRAL_PAGE.REFERRAL_STATISTIC></h3><div ng-if=currentWallet.commission class=m-t-20><div class=m-b-20><span>{{ "REFERRAL_PAGE.TOTAL_COMMISSION" | translate }}</span><h4 amount=currentWallet.commission win=true class=h-coin></h4></div><p translate=REFERRAL_PAGE.REFERRED_CONTENT></p><span ng-repeat="dl in downlines" class=ref><span>{{ ::dl.username }}</span> <span amount=::dl.wagered class="h-coin ref-wager text-warning"></span></span></div><div ng-if=!currentWallet.commission class=m-t-20><p translate=REFERRAL_PAGE.NO_STATISTIC></p></div></div></div><script>/* --------------------------------------------------------\n Checkbox + Radio\n -----------------------------------------------------------*/\nif($(\'input:checkbox, input:radio\')[0]) {\n  //Checkbox + Radio skin\n  $(\'input:checkbox:not([data-toggle="buttons"] input, .make-switch input), input:radio:not([data-toggle="buttons"] input)\').iCheck({\n        checkboxClass: \'icheckbox_minimal\',\n        radioClass: \'iradio_minimal\',\n        increaseArea: \'20%\' // optional\n  });\n}</script>'),a.put("app/account/setting/setting.html",'<div class="container account-auth"><h1 translate=PERSONAL class="text-center m-b-50"></h1><div ng-if=currentAccount.authHashLink class="auth-secret-link m-b-25"><h3 translate=AUTHENTICATION_PAGE.SECRET_LINK.TITLE></h3><p translate=AUTHENTICATION_PAGE.SECRET_LINK.WARNING></p><form class="p-t-20 form-horizontal"><div class="form-group m-b-10"><div translate=AUTHENTICATION_PAGE.SECRET_LINK.MY_SECRET_LINK class="control-label col-sm-2"></div><div class=col-sm-6><input ng-model=secretLink readonly class="form-control"></div><div class=col-sm-2><button clip-copy=secretLink class="btn btn-alt"><span translate=COPY></span></button></div></div></form><hr class="whiter m-t-50 m-b-50"></div><div ng-if=isPregeneratedUsername class="auth-username p-t-20"><h3 translate=AUTHENTICATION_PAGE.SET_USERNAME_AND_PASSWORD></h3><form name=setUserPassForm novalidate ng-submit="setUserPassForm.$valid &amp;&amp; setUserPass(setUserPassForm)" class="p-t-20 form-horizontal"><div class="form-group m-b-10"><div class="control-label col-sm-3"><span translate=USERNAME></span>:</div><div class=col-sm-6><input name=username ng-model=su.username required class="form-control"></div></div><div class="form-group m-b-10"><div class="control-label col-sm-3"><span translate=PASSWORD></span>:</div><div class=col-sm-6><input type=password name=password ng-model=su.password required class="form-control"></div></div><div class="form-group m-b-10"><div class="control-label col-sm-3"><span translate=AUTHENTICATION_PAGE.PASSWORD_CONFIRMATION></span>:</div><div class=col-sm-6><input type=password name=passwordConfirmation ng-model=su.passwordConfirmation confirm-against=su.password required ng-confirm-field=ng-confirm-field class="form-control"></div></div><div class="form-group m-b-10"><div class="col-sm-2 col-sm-offset-3"><input type=submit value="{{ &quot;SET&quot; | translate }}" ng-disabled="su.submitted || (setUserPassForm.$dirty &amp;&amp; setUserPassForm.$invalid)" class="btn btn-alt form-control"></div><div class=col-sm-7><div class=p-t-10><div ng-show="su.result.status === 200" class=text-success><i class="fa fa-check fa-lg"></i> <span translate=SUCCESS></span></div><div ng-show="su.result.status !== 200" class=text-danger>{{ su.result.data.message || su.result.data }}</div></div></div></div></form></div><div ng-if=!isPregeneratedUsername class="auth-change-password p-t-20"><h3 translate=AUTHENTICATION_PAGE.CHANGE_PASSWORD></h3><form name=changePasswordForm novalidate ng-submit="changePasswordForm.$valid &amp;&amp; changePassword(changePasswordForm)" class="p-t-20 form-horizontal"><div class="form-group m-b-10"><div class="control-label col-sm-3"><span translate=AUTHENTICATION_PAGE.OLD_PASSWORD></span>:</div><div class=col-sm-6><input type=password name=oldPassword ng-model=cp.oldPassword required class="form-control"></div></div><div class="form-group m-b-10"><div class="control-label col-sm-3"><span translate=AUTHENTICATION_PAGE.NEW_PASSWORD></span>:</div><div class=col-sm-6><input type=password name=newPassword ng-model=cp.newPassword required class="form-control"></div></div><div class="form-group m-b-10"><div class="control-label col-sm-3"><span translate=AUTHENTICATION_PAGE.NEW_PASSWORD_CONFIRMATION></span>:</div><div class=col-sm-6><input type=password name=newPasswordConfirmation ng-model=cp.newPasswordConfirmation confirm-against=cp.newPassword required ng-confirm-field=ng-confirm-field class="form-control"></div></div><div class="form-group m-b-10"><div class="col-sm-2 col-sm-offset-3"><input type=submit value="{{ &quot;UPDATE&quot; | translate }}" ng-disabled="cp.submitted || (changePasswordForm.$dirty &amp;&amp; changePasswordForm.$invalid)" class="btn btn-alt form-control"></div><div class=col-sm-8><div class=p-t-10><div ng-show="cp.result.status === 200" class=text-success><i class="fa fa-check fa-lg"></i> <span translate=SUCCESS></span></div><div ng-show="cp.result.status !== 200" class=text-danger>{{ cp.result.data.message || cp.result.data }}</div></div></div></div></form></div><hr class="whiter m-t-50 m-b-50"><div class="auth-set-emergency-address p-t-20"><h3 translate=AUTHENTICATION_PAGE.EMERGENCY_WITHDRAWAL.TITLE></h3><p translate=AUTHENTICATION_PAGE.EMERGENCY_WITHDRAWAL.CONTENT></p><form name=setEmergencyAddressForm novalidate ng-submit="setEmergencyAddressForm.$valid &amp;&amp; setEmergencyAddress(setEmergencyAddressForm)" class="p-t-20 form-horizontal"><div class="form-group m-b-10"><div class="control-label col-sm-3"><span translate=AUTHENTICATION_PAGE.EMERGENCY_WITHDRAWAL.ADDRESS></span>:</div><div class=col-sm-6><input name=address ng-model=sea.address required class="form-control"></div></div><div class="form-group m-b-10"><div class="col-sm-2 col-sm-offset-3"><input type=submit value="{{ &quot;UPDATE&quot; | translate }}" ng-disabled="sea.submitted || (setEmergencyAddressForm.$dirty &amp;&amp; setEmergencyAddressForm.$invalid)" class="btn btn-alt form-control"></div><div class=col-sm-7><div class=p-t-10><div ng-show="sea.result.status === 200" class=text-success><i class="fa fa-check fa-lg"></i> <span translate=SUCCESS></span></div><div ng-show="sea.result.status !== 200" class=text-danger>{{ sea.result.data.message || sea.result.data }}</div></div></div></div></form></div></div>'),a.put("app/account/twoFactor/twoFactor.html",'<div class="container totp"><h1 translate=TWO_FACTOR_AUTH class="text-center m-b-50"></h1><div ng-if=totp.encodedKey class=totp-disabled><div class=row><div class=col-sm-4><center class=m-t-20><div class="qrcode-qz p-5"><qrcode version=5 error-correction-level=M data="{{ totp.otpUrl }}" size=170 ng-show=totp.otpUrl></qrcode></div><h5>{{ totp.encodedKey }}</h5></center></div><div class=col-sm-8><p translate=TWO_FACTOR_AUTH_PAGE.ENTER_AUTHENTICATION_CODE class=m-t-20></p><div class=row><div class=col-sm-8><form name=enableTotpForm novalidate ng-submit="enableTotpForm.$valid &amp;&amp; enableTotp(enableTotpForm)"><!--.control-label(translate=\'TWO_FACTOR_AUTH_PAGE.ENTER_AUTHENTICATION_CODE\')--><input name=code ng-model=totp.code required class="form-control m-b-10"><div class=row><div class=col-sm-3><input type=submit value="{{ &quot;ENABLE&quot; | translate }}" ng-disabled="et.submitted || (enableTotpForm.$dirty &amp;&amp; enableTotpForm.$invalid)" class="btn btn-alt form-control"></div><div class=col-sm-9><div class=p-t-10><div ng-show="et.result.status === 200" class=text-success><i class="fa fa-check fa-lg"></i> <span translate=SUCCESS></span></div><div ng-show="et.result.status !== 200" class=text-danger>{{ et.result.data.message || et.result.data }}</div></div></div></div></form></div></div></div></div></div><div ng-if=!totp.encodedKey class=totp-enabled><div class=row><div class=col-sm-4><div class="tile-light p-15"><h4 translate=TWO_FACTOR_AUTH_PAGE.PROTECTION class=m-b-15></h4><label class=checkbox><input type=checkbox ng-model=totp.restrictWithdraw class="h-i-radio-check"><span translate=TWO_FACTOR_AUTH_PAGE.WITHDRAW></span></label><label class=checkbox><input type=checkbox ng-model=totp.restrictLogin class="h-i-radio-check"><span translate=TWO_FACTOR_AUTH_PAGE.LOGIN></span></label><label class=checkbox><input type=checkbox ng-model=totp.restrictBetDice class="h-i-radio-check"><span translate=TWO_FACTOR_AUTH_PAGE.LOCK_BETTING></span></label></div></div><div class=col-sm-8><p translate=TWO_FACTOR_AUTH_PAGE.ENTER_AUTHENTICATION_CODE class=m-t-10></p><div class=row><div class=col-sm-8><form name=updateTotpForm novalidate><input name=code ng-model=totp.code required class="form-control m-b-10"><button ng-click="updateTotpForm.$valid &amp;&amp; updateTotp(updateTotpForm)" ng-disabled="ut.submitted || (updateTotpForm.$dirty &amp;&amp; updateTotpForm.$invalid)" class="btn btn-alt"><span translate=UPDATE></span></button><button ng-click="updateTotpForm.$valid &amp;&amp; removeTotp(updateTotpForm)" ng-disabled="ut.submitted || (updateTotpForm.$dirty &amp;&amp; updateTotpForm.$invalid)" class="btn btn-alt m-l-10"><span translate=DISABLE></span></button></form></div></div><div class=m-t-10><div ng-show="ut.result.status === 200" class=text-success><i class="fa fa-check fa-lg"></i> <span translate=SUCCESS></span></div><div ng-show="ut.result.status !== 200" class=text-danger>{{ ut.result.data.message || ut.result.data }}</div></div></div></div></div></div><script>/* --------------------------------------------------------\n Checkbox + Radio\n -----------------------------------------------------------*/\nif($(\'input:checkbox, input:radio\')[0]) {\n  //Checkbox + Radio skin\n  $(\'input:checkbox:not([data-toggle="buttons"] input, .make-switch input), input:radio:not([data-toggle="buttons"] input)\').iCheck({\n        checkboxClass: \'icheckbox_minimal\',\n        radioClass: \'iradio_minimal\',\n        increaseArea: \'20%\' // optional\n  });\n}</script>'),a.put("app/dice/dice.html","<div ng-include=&quot;components/includes/navbar/navbar.html&quot;></div><div class=ng-cloak><div ng-include=&quot;components/includes/diceBox/diceBox.html&quot;></div><div ng-include=&quot;components/includes/diceLog/diceLog.html&quot;></div><div ng-include=&quot;components/includes/chat/chat.html&quot;></div></div>"),a.put("app/fair/fair.html",'<div ng-include=&quot;components/includes/navbar/navbar.html&quot;></div><div class=container><h1 translate=PROVABLY_FAIR class="text-center m-b-50"></h1><div class=container><div class="seed-mgmt p-20"><form name=seedForm novalidate ng-submit="seedForm.$valid &amp;&amp; changeAccountSeed(seedForm)" class=form-horizontal><div class="form-group m-b-10"><div class="control-label col-sm-2"><span translate=SERVER_SEED_HASH></span>:</div><div class=col-sm-10><textarea readonly class=form-control>{{ currentAccount.serverSeedHash }}</textarea></div></div><div class="form-group m-b-10"><div class="col-sm-2 col-sm-offset-2"><input type=button value="{{ &quot;RANDOMIZE&quot; | translate }}" ng-click=randomizeServerSeed() class="form-control btn btn-alt"></div><div class=col-sm-8><div class=p-t-10><div ng-show="randomize.result.status === 200" class=text-success><i class="fa fa-check fa-lg"></i></div><div ng-show="randomize.result.status !== 200" class=text-danger>{{ randomize.result.data.message || randomize.result.data }}</div></div></div></div><div class="form-group m-b-10"><div class="control-label col-sm-2"><span translate=NONCE></span>:</div><div class=col-sm-4><input ng-model=currentAccount.nonce disabled class="form-control"></div></div><div class="form-group m-b-10"><div class="control-label col-sm-2"><span translate=ACCOUNT_SEED></span>:</div><div class=col-sm-4><input name=accountSeed ng-model=seed.accountSeed required class="form-control"></div></div><div class="form-group m-b-10"><div class="col-sm-2 col-sm-offset-2"><input type=submit value="{{ &quot;UPDATE&quot; | translate }}" ng-disabled="seed.submitted || (seedForm.$dirty &amp;&amp; seedForm.$invalid)" class="form-control btn btn-alt"></div><div class=col-sm-4><div class=p-t-10><div ng-show="seed.result.status === 200" class=text-success><i class="fa fa-check fa-lg"></i></div><div ng-show="seed.result.status !== 200" class=text-danger>{{ seed.result.data.message || seed.result.data }}</div></div></div></div></form></div><!--hr.whiter.m-t-20--></div><div translate=PROVABLY_FAIR_PAGE class=list-content></div></div>'),
a.put("app/faq/faq.html",'<div ng-include=&quot;components/includes/navbar/navbar.html&quot;></div><div class=container><h1 translate=FAQ class="text-center m-b-50"></h1><div translate=FAQ_PAGE class=list-content></div></div>'),a.put("app/houseEdge/houseEdge.html",'<div ng-include=&quot;components/includes/navbar/navbar.html&quot;></div><div class=container><h1 translate=VARIABLE_HOUSE_EDGE class="text-center m-b-50"></h1><div translate=VARIABLE_HOUSE_EDGE_PAGE class=list-content></div></div>'),a.put("app/leaderboard/leaderboard.html",'<div ng-include=&quot;components/includes/navbar/navbar.html&quot;></div><div class=leaderboard><div class=container><div class="text-center m-b-50"><h1 translate=LEADERBOARD></h1></div><div class="row m-b-50"><div class=col-sm-6><h3 translate=LEADERBOARD.DAILY_WAGER class="text-center m-b-20"></h3><div class=table-responsive><table class=table><thead><tr><th class=col-md-1>#</th><th translate=ACCOUNT class=col-md-4></th><th translate=WAGERED class=col-md-4></th><th translate=BETS class=col-md-3></th></tr></thead><tbody><tr ng-repeat="row in leaderboard.dailyWager"><td>{{ $index + 1 }}</td><td>{{ ::row.username }}</td><td><span amount=row.amount class=h-coin></span></td><td>{{ row.bets }}</td></tr></tbody></table></div></div><div class=col-sm-6><h3 translate=LEADERBOARD.MONTHLY_WAGER class="text-center m-b-20"></h3><div class=table-responsive><table class=table><thead><tr><th class=col-md-1>#</th><th translate=ACCOUNT class=col-md-4></th><th translate=WAGERED class=col-md-4></th><th translate=BETS class=col-md-3></th></tr></thead><tbody><tr ng-repeat="row in leaderboard.thirtyDaysWager"><td>{{ $index + 1 }}</td><td>{{ ::row.username }}</td><td><span amount=row.amount class=h-coin></span></td><td>{{ row.bets }}</td></tr></tbody></table></div></div></div><div class=row><div class=col-sm-6><h3 translate=LEADERBOARD.DAILY_PROFIT class="text-center m-b-20"></h3><div class=table-responsive><table class=table><thead><tr><th class=col-md-1>#</th><th translate=ACCOUNT class=col-md-4></th><th translate=PROFIT class=col-md-4></th><th translate=BETS class=col-md-3></th></tr></thead><tbody><tr ng-repeat="row in leaderboard.dailyProfit"><td>{{ $index + 1 }}</td><td>{{ ::row.username }}</td><td><span amount=row.profit class="h-coin text-success"></span></td><td>{{ row.bets }}</td></tr></tbody></table></div></div><div class=col-sm-6><h3 translate=LEADERBOARD.MONTHLY_PROFIT class="text-center m-b-20"></h3><div class=table-responsive><table class=table><thead><tr><th class=col-md-1>#</th><th translate=ACCOUNT class=col-md-4></th><th translate=PROFIT class=col-md-4></th><th translate=BETS class=col-md-3></th></tr></thead><tbody><tr ng-repeat="row in leaderboard.thirtyDaysProfit"><td>{{ $index + 1 }}</td><td>{{ ::row.username }}</td><td><span amount=row.profit class="h-coin text-success"></span></td><td>{{ row.bets }}</td></tr></tbody></table></div></div></div></div></div>'),a.put("app/lp/lp.html",'<!--div(ng-include=\'"components/includes/navbar/navbar.html"\')--><div class=lp><div class=container-fluid><div class=row><div class=col-md-12><div class=p-15><div class="pull-right m-l-20"><h-lang-select></h-lang-select></div></div></div></div></div><div class=container><header class=row><div class=col-md-12><div class="row m-b-20"><div class=col-md-12><img src=../assets/img/logo.png class="center-block"></div></div><div class=row><div class=col-md-12><div class=center><h1><b translate=LANDING_PAGE.WELCOME.TITLE></b></h1><h4 translate=LANDING_PAGE.WELCOME.SUB_TITLE class="p-l-20 p-r-20"></h4><div class=divider></div></div></div></div><div class=row><div class=col-md-12><div class=center><label class="radio-inline m-r-20"><input type=radio ng-model=preferredSiteId value=1 class="h-i-radio-check"><span>Bitcoin</span></label><label class="radio-inline m-r-20"><input type=radio ng-model=preferredSiteId value=2 class="h-i-radio-check"><span>Monero</span></label><label class=radio-inline><input type=radio ng-model=preferredSiteId value=3 class="h-i-radio-check"><span>Bitcoin Cash</span></label></div></div></div></div></header><div class="row m-t-20"><div class=col-md-12><div class=center><tabset><tab active="activeTab === 0"><form name=signUpForm novalidate ng-submit="signUpForm.$valid &amp;&amp; signUp(signUpForm)" class="sign-up form-inline"><input name=alias ng-model=su.alias placeholder="{{ &quot;LANDING_PAGE.SIGN_UP.ENTER_YOUR_NAME&quot; | translate }}" ng-minlength=3 ng-maxlength=15 class="input-lg form-control m-r-5 m-b-10"><button type=submit ng-disabled="su.submitted || (signUpForm.$dirty &amp;&amp; signUpForm.$invalid)" class="btn btn-lg m-b-10"><span translate=LANDING_PAGE.SIGN_UP.SUBMIT ng-hide=su.submitted></span><span ng-show=su.submitted><i class="fa fa-spinner fa-spin"></i></span></button></form><p><span translate=LANDING_PAGE.SIGN_IN_LINK></span> <a href="" ng-click="activeTab = 1"><u translate=LANDING_PAGE.SIGN_IN.TITLE></u></a></p></tab><tab active="activeTab === 1"><form name=signInForm novalidate ng-submit="signInForm.$valid &amp;&amp; signIn(signInForm)" class=sign-in><input ng-model=si.username placeholder="{{ &quot;USERNAME&quot; | translate }}" class="input-lg form-control m-b-5"><input type=password ng-model=si.password placeholder="{{ &quot;PASSWORD&quot; | translate }}" class="input-lg form-control m-b-5"><input ng-model=si.code placeholder="{{ &quot;TWO_FACTOR_OPTIONAL&quot; | translate }}" class="input-lg form-control m-b-10"><button type=submit class="btn btn-lg m-b-10"><span translate=LANDING_PAGE.SIGN_IN.SUBMIT ng-hide=si.submitted></span><span ng-show=si.submitted><i class="fa fa-spinner fa-spin"></i></span></button></form><p><span translate=LANDING_PAGE.SIGN_UP_LINK></span> <a href="" ng-click="activeTab = 0"><u translate=LANDING_PAGE.SIGN_UP.TITLE></u></a></p></tab></tabset><div ng-show="su.result.status !== 200" class=text-danger>{{ su.result.data.message || su.result.data }}</div><div ng-show="si.result.status !== 200" class=text-danger>{{ si.result.data.message || si.result.data }}</div></div></div></div><div class=row><div class=col-md-12><div class=divider></div><p class=text-center><span translate=LANDING_PAGE.WELCOME.BY_CLICKING></span> <a ui-sref=tos target=_blank><u><span translate=LANDING_PAGE.WELCOME.TNC></span></u></a></p></div></div></div></div><script>/* --------------------------------------------------------\n Checkbox + Radio\n -----------------------------------------------------------*/\nif($(\'input:checkbox, input:radio\')[0]) {\n  //Checkbox + Radio skin\n  $(\'input:checkbox:not([data-toggle="buttons"] input, .make-switch input), input:radio:not([data-toggle="buttons"] input)\').iCheck({\n        checkboxClass: \'icheckbox_minimal\',\n        radioClass: \'iradio_minimal\',\n        increaseArea: \'20%\' // optional\n  });\n}</script>'),a.put("app/secret/secret.html","<div class=col-md-12>This is the secret view.</div>"),a.put("app/tos/tos.html",'<div class="tos container m-t-50"><div class=row><div class=col-md-12><h1 class="text-center m-b-50">Terms of Service</h1><p>This end user agreement (the "Agreement") should be read by you (the "User" or "you") in its entirety prior to your use of SafeDice service or products. Please note that the Agreement constitutes a legally binding agreement between you and SafeDice (referred to herein as "SafeDice", "us" or "we") which owns and operates the Internet site found and games described at www.safedice.com (the "Service").</p><p>By clicking the "I Agree" button if and where provided and/or using the Service, you consent to the terms and conditions set forth in this Agreement.</p><p>By using our Service and/or opening an account with us, you consent to the terms and conditions set forth in this Agreement.</p><h4>1. GRANT OF LICENSE</h4><dl class=dl-horizontal><dt>1.1.</dt><dd>Subject to the terms and conditions contained herein, SafeDice grants the User a non-exclusive, personal, non-transferable right to use the Service on your personal computer or other device that accesses the Internet in order to access the games available and described on the SafeDice.com website (the website and games together being the "Service").</dd><dt>1.2.</dt><dd>The Service is not for use by (i) individuals under 18 years of age, (ii) individuals under the legal age of majority in their jurisdiction and (iii) individuals accessing the Service from jurisdictions from which it is illegal to do so. SafeDice is not able to verify the legality of the Service in each jurisdiction and it is the User\'s responsibility to ensure that their use of the Service is lawful.</dd><dt>1.3.</dt><dd>SafeDice and its licensors are the sole holders of all rights in and to the Service and code, structure and organization, including copyright, trade secrets, intellectual property and other rights. You may not, within the limits prescribed by applicable laws: (a) copy, distribute, publish, reverse engineer, decompile, disassemble, modify, or translate the website; or (b) use the Service in a manner prohibited by applicable laws or regulations (each of the above is an "Unauthorized Use"). SafeDice reserves any and all rights implied or otherwise, which are not expressly granted to the User hereunder and retain all rights, title and interest in and to the Service. You agree that you will be solely liable for any damage, costs or expenses arising out of or in connection with the commission by you of any Unauthorized Use. You shall notify SafeDice immediately upon becoming aware of the commission by any person of any Unauthorized Use and shall provide SafeDice with reasonable assistance with any investigations it conducts in light of the information provided by you in this respect.</dd><dt>1.4.</dt><dd>The term "SafeDice", its domain names and any other trade marks, or service marks used by SafeDice as part of the Service (the "Trade Marks"), are solely owned by SafeDice. In addition, all content on the website, including, but not limited to, the images, pictures, graphics, photographs, animations, videos, music, audio and text (the "Site Content") belongs to SafeDice and is protected by copyright and/or other intellectual property or other rights. You hereby acknowledge that by using the Service, you obtain no rights in the Site Content and/or the Trade Marks, or any part thereof. Under no circumstances may you use the Site Content and/or the Trade Marks without SafeDiceâs prior written consent. Additionally, you agree not to do anything that will harm or potentially harm the rights, including the intellectual property rights of SafeDice.</dd></dl><h4>2. WARRANTIES</h4><dl class=dl-horizontal><dt>2.1.</dt><dd>SafeDice DISCLAIMS ANY AND ALL WARRANTIES, EXPRESSED OR IMPLIED, IN CONNECTION WITH THE SERVICE WHICH IS PROVIDED TO YOU "AS IS" AND WE PROVIDE YOU WITH NO WARRANTY OR REPRESENTATION WHATSOEVER REGARDING ITS QUALITY, FITNESS FOR PURPOSE, COMPLETENESS OR ACCURACY.</dd><dt>2.2.</dt><dd>REGARDLESS OF OUR EFFORTS, WE MAKE NO WARRANTY THAT THE SERVICE WILL BE UNINTERRUPTED, TIMELY OR ERROR-FREE, OR THAT DEFECTS WILL BE CORRECTED.</dd></dl><h4>3. AUTHORITY/TERMS OF SERVICE</h4><p>You agree to the game rules described on the SafeDice.com website. SafeDice retains authority over the issuing, maintenance, and closing of the Service. The decision of SafeDice as management, as regards any use of the Service, or dispute resolution, is final and shall not be open to review or appeal.</p><h4>4. YOUR REPRESENTATIONS AND WARRANTIES</h4><p>Prior to your use of the Service and on an ongoing basis you represent, warrant, covenant and agree that:</p><dl class=dl-horizontal><dt>4.1.</dt><dd>there is a risk of losing bitcoins when using the Service and that SafeDice has no responsibility to you for any such loss;</dd><dt>4.2.</dt><dd>your use of the Service is at your sole option, discretion and risk;</dd><dt>4.3.</dt><dd>you are solely responsible for any applicable taxes which may be payable on bitcoins awarded to you through your using the Service;</dd><dt>4.5.</dt><dd>the telecommunications networks and Internet access services required for you to access and use the Service are entirely beyond the control of SafeDice and SafeDice shall have no liability whatsoever for any outages, slowness, capacity constraints or other deficiencies affecting the same; and</dd><dt>4.6.</dt><dd>you are aged 18 or over and that you are not currently self-excluded from any gambling site or gambling premises and that you will inform us immediately if you enter into a self-exclusion agreement with any gambling provider.</dd></dl><h4>5. THIRD-PARTY LINKS</h4><p>Certain content, products and services available via our Service may include materials from third-parties.</p><p>Third-party links on this site may direct you to third-party websites that are not affiliated with us. We are not responsible for examining or evaluating the content or accuracy and we do not warrant and will not have any liability or responsibility for any third-party materials or websites, or for any other materials, products, or services of third-parties.</p><p>We are not liable for any harm or damages related to the purchase or use of goods, services, resources, content, or any other transactions made in connection with any third-party websites. Please review carefully the third-party\'s policies and practices and make sure you understand them before you engage in any transaction. Complaints, claims, concerns, or questions regarding third-party products should be directed to the third-party.</p><h4>6. PROHIBITED USES</h4><p>The Service is intended solely for the User\'s personal use. The User is only allowed to wager for his/her personal entertainment.</p><h4>7. BREACH</h4><dl class=dl-horizontal><dt>7.1.</dt><dd>Without prejudice to any other rights, if a User breaches in whole or in part any provision contained herein, SafeDice reserves the right to take such action as it sees fit, including terminating this Agreement or any other agreement in place with the User and/or taking legal action against such User.</dd><dt>7.2.</dt><dd>You agree to fully indemnify, defend and hold harmless SafeDice and its shareholders, directors, agents and employees from and against all claims, demands, liabilities, damages, losses, costs and expenses, including legal fees and any other charges whatsoever, howsoever caused, that may arise as a result of: (i) your breach of this Agreement, in whole or in part; (ii) violation by you of any law or any third party rights; and (iii) use by you of the Service.</dd></dl><h4>8. LIMITATION OF LIABILITY</h4><dl class=dl-horizontal><dt>8.1.</dt><dd>Under no circumstances, including negligence, shall SafeDice be liable for any special, incidental, direct, indirect or consequential damages whatsoever (including, without limitation, damages for loss of business profits, business interruption, loss of business information, or any other pecuniary loss) arising out of the use (or misuse) of the Service even if SafeDice had prior knowledge of the possibility of such damages.</dd><dt>8.2.</dt><dd>Nothing in this Agreement shall exclude or limit SafeDice as liability for death or personal injury resulting from its negligence.</dd></dl><h4>9. DISPUTES</h4><p>If a User wishes to make a complaint, please contact our customer service team at safedice(@)protonmail.ch.</p><h4>10. AMENDMENT</h4><p>SafeDice reserves the right to update or modify this Agreement or any part thereof at any time or otherwise change the Service without notice and you will be bound by such amended Agreement upon posting. Therefore, we encourage you check the terms and conditions contained in the version of the Agreement in force at such time. Your continued use of the Service shall be deemed to attest to your agreement to any amendments to the Agreement.</p><h4>11. SEVERABILITY</h4><p>If a provision of this Agreement is or becomes illegal, invalid or unenforceable in any jurisdiction, that shall not affect the validity or enforceability in that jurisdiction of any other provision hereof or the validity or enforceability in other jurisdictions of that or any other provision hereof.</p><h4>12. ASSIGNMENT</h4><p>SafeDice reserves the right to assign this agreement, in whole or in part, at any time without notice. The User may not assign any of his/her rights or obligations under this Agreement.</p><h4>13. MISCELLANEOUS</h4><dl class=dl-horizontal><dt>13.1.</dt><dd>No waiver by SafeDice of any breach of any provision of this Agreement (including the failure of SafeDice to require strict and literal performance of or compliance with any provision of this Agreement) shall in any way be construed as a waiver of any subsequent breach of such provision or of any breach of any other provision of this Agreement.</dd><dt>13.2.</dt><dd>Nothing in this Agreement shall create or confer any rights or other benefits in favour of any third parties not party to this Agreement other than with an affiliate of SafeDice.</dd><dt>13.3.</dt><dd>Nothing in this Agreement shall create or be deemed to create a partnership, agency, trust arrangement, fiduciary relationshi dt or joint venture between you and us.</dd><dt>13.4.</dt><dd>This Agreement constitutes the entire understanding and agreement between you and us regarding the Service and supersedes any prior agreement, understanding, or arrangement between you and us.</dd></dl></div></div></div>'),a.put("components/directives/hBalance/hBalance.html",'<span ng-class="{ &quot;coin-negative&quot;: coin.s &lt; 0, &quot;text-success&quot;: win, &quot;text-danger&quot;: !win &amp;&amp; win !== undefined }" class=coin><span class=coin-i>{{coin.i}}</span><span class=coin-f>{{coin.f}}</span><span class=coin-z>{{coin.z}}</span></span>'),a.put("components/directives/hCoin/hCoin.html",'<span ng-class="{ &quot;coin-negative&quot;: coin.s &lt; 0, &quot;text-success&quot;: win, &quot;text-danger&quot;: !win &amp;&amp; win !== undefined }" class=coin><span class=coin-i>{{coin.i}}</span><span class=coin-f>{{coin.f}}</span><span class=coin-z>{{coin.z}}</span></span>'),a.put("components/directives/hLangSelect/hLangSelect.html",'<div class=dropdown><a href="" class=dropdown-toggle><img src=assets/img/blank.gif class="flag current-language"> {{ languageName[currentLanguage] }} <span class=caret></span></a><ul class=dropdown-menu><li><a href="" ng-click=changeLanguage(&quot;en_US&quot;)><img src=assets/img/blank.gif class="flag flag-gb"> {{ languageName[\'en_US\'] }}</a></li><li><a href="" ng-click=changeLanguage(&quot;zh_CN&quot;)><img src=assets/img/blank.gif class="flag flag-cn"> {{ languageName[\'zh_CN\'] }}</a></li><li><a href="" ng-click=changeLanguage(&quot;ru_RU&quot;)><img src=assets/img/blank.gif class="flag flag-ru"> {{ languageName[\'ru_RU\'] }}</a></li></ul></div>'),a.put("components/directives/hPayout/hPayout.html","<span class=payout><span class=payout-i>{{fracpayout.i}}</span><span class=payout-f>{{fracpayout.f}}</span><span class=payout-ff>{{fracpayout.ff}}</span> ×</span>"),a.put("components/directives/hRoll/hRoll.html",'<span ng-class="{&quot;text-success&quot;: win, &quot;text-danger&quot;: !win &amp;&amp; win !== undefined }" class=roll><span ng-bind-html=fracroll.s class=roll-s></span> <span class=roll-i>{{fracroll.i}}</span><span class=roll-f>{{fracroll.f1}}<span class=roll-ff>{{fracroll.f2}}</span></span></span>'),a.put("components/directives/hSiteSelect/hSiteSelect.html",'<div class=dropdown><a href="" class=dropdown-toggle>{{ siteCurrency[currentSite.id - 1] }} <span class=caret></span></a><ul class=dropdown-menu><li><a href="" ng-click=changeSite(1)>{{ siteCurrency[0] }}</a></li><li><a href="" ng-click=changeSite(2)>{{ siteCurrency[1] }}</a></li><li><a href="" ng-click=changeSite(3)>{{ siteCurrency[2] }}</a></li></ul></div>'),a.put("components/includes/chat/chat.html",'<div ng-controller=ChatCtrl><div ng-class="{mini: mini}" class="chat h-chat"><div class=media-body><div class=chat-header><button class="btn btn-sm"><i class="fa fa-circle-o status m-r-5"></i> <span translate=CHAT_ROOM></span><span ng-show="unseenMessagesCount &gt; 0" class="badge m-l-10">{{ unseenMessagesCount }}</span></button></div><div id=chat-body scroll-glue=scroll-glue class=chat-body><div ng-repeat="log in chat.log" ng-if=isChatOpened class=media><div class=media-body><div ng-show="$index &gt; 0 &amp;&amp; log.accountId !== chat.log[$index - 1].accountId"><hr class="divider"><span class="info pull-right m-t-0 m-b-5"><span ng-if="log.role &lt; 8 &amp;&amp; account.currentAccount.role &gt;= 6">(<a ng-click=chat.silence(log.accountId) href=""><i class="fa fa-bell-slash-o"></i></a>)</span><span ng-if=log.time class=m-l-5>({{ ::log.time }})</span><span ng-class="{system: log.role === 9, admin: log.role === 8, mod: log.role === 7, verified: log.role === 2}" class="m-l-5 name"><a href=accounts/{{::log.accountId}} target=_blank ng-if="log.role &lt; 8">{{ ::log.username }}</a><span ng-if="log.role &gt;= 8">{{ ::log.username }}</span></span></span></div><div class=clearfix></div><span ng-if="log.targetUsername &amp;&amp; log.targetUsername !== account.currentAccount.username" class="m-r-5 text-danger"><i class="fa fa-caret-right"></i> {{ ::log.targetUsername }}:</span><span ng-bind-html=::log.message ng-class="{&quot;text-primary&quot;: log.whisper, pending: log.pending, system: log.role === 9}"></span><span ng-if="log.role &lt; 9 &amp;&amp; account.currentAccount.role &gt;= 6" class=m-l-5>(<a ng-click=chat.delete(log.id) href=""><i class="fa fa-trash"></i></a>)</span></div></div></div><div class="chat-footer media"><a ng-click="mini = !mini" class=pull-left><i class="fa fa-caret-left"></i></a><a ng-click=send(c) class=pull-right><i class="fa fa-send"></i></a><a href=http://www.emoji-cheat-sheet.com target=_blank class=pull-right><i class="fa fa-smile-o"></i></a><div class="media-body m-t-5"><input ng-model=c.message ng-keyup="$event.keyCode == 13 ? send(c) : null" class="form-control"></div></div></div></div></div>'),a.put("components/includes/deposit/deposit.html",'<div ng-controller=DepositCtrl class=deposit><div ng-if="currentSite.currency.name === &quot;Bitcoin&quot;" class=row><div class=col-sm-3><center><div class="qrcode-qz p-5"><qrcode data="bitcoin:{{ currentWallet.depositAddress.address }}" size=140 ng-show=currentWallet.depositAddress></qrcode></div></center></div><div class=col-sm-9><div class=p-l-20><div translate=DEPOSIT_TAB.YOUR_DEPOSIT_ADDRESS_IS class=m-t-15></div><div class="m-t-10 address">{{ currentWallet.depositAddress.address }}</div><hr class="whiter m-t-15 m-b-15"><div ng-show=currentWallet.unprocessedAmount>• <span translate=DEPOSIT_TAB.UNCONFIRMED_DEPOSIT></span> <span amount=currentWallet.unprocessedAmount class=h-coin></span></div><div class=p-b-15><span translate=DEPOSIT_TAB.INFO.BITCOIN></span></div></div></div></div><div ng-if="currentSite.currency.name === &quot;Monero&quot;" class=row><div class=col-sm-12><div class=p-l-20><div translate=DEPOSIT_TAB.OUR_PUBLIC_ADDRESS_IS></div><div class="m-t-5 address monero">{{ currentWallet.depositAddress.publicAddress }}</div><div translate=DEPOSIT_TAB.YOUR_PAYMENT_ID_IS class=m-t-20></div><div class="m-t-5 address monero">{{ currentWallet.depositAddress.address }}</div><hr class="whiter m-t-15 m-b-15"><div ng-show=currentWallet.unprocessedAmount>• <span translate=DEPOSIT_TAB.UNCONFIRMED_DEPOSIT></span> <span amount=currentWallet.unprocessedAmount class=h-coin></span></div><div class=p-b-15><span translate=DEPOSIT_TAB.INFO.MONERO></span></div></div></div></div><div ng-if="currentSite.currency.name === &quot;Bitcoin Cash&quot;" class=row><div class=col-sm-3><center><div class="qrcode-qz p-5"><qrcode data="bitcoinCash:{{ currentWallet.depositAddress.address }}" size=140 ng-show=currentWallet.depositAddress></qrcode></div></center></div><div class=col-sm-9><div class=p-l-20><div translate=DEPOSIT_TAB.YOUR_DEPOSIT_ADDRESS_IS class=m-t-15></div><div class="m-t-10 address">{{ currentWallet.depositAddress.address }}</div><hr class="whiter m-t-15 m-b-15"><div ng-show=currentWallet.unprocessedAmount>• <span translate=DEPOSIT_TAB.UNCONFIRMED_DEPOSIT></span> <span amount=currentWallet.unprocessedAmount class=h-coin></span></div><div class=p-b-15><span translate=DEPOSIT_TAB.INFO.BITCOIN_CASH></span></div></div></div></div></div>'),a.put("components/includes/diceBet/diceBet.html",'<div ng-controller=DiceBetCtrl class="dice-bet ng-cloak"><form name=betForm novalidate><div class="row m-b-20"><div class=col-sm-8><div class="form-group m-b-20"><label>{{ "BET_AMOUNT" | translate }}</label><div class="input-group input-group-lg"><input type=number ng-model=bet.amount ng-change=amountChanged() ng-disabled=autoRoll.active step=0.1 min=0 required tabindex=1 class="form-control h-bet-amount"><div class=input-group-btn><button ng-click=betAmountDown() ng-disabled=autoRoll.active class="btn btn-alt"><i class="fa fa-lg fa-angle-down"></i></button><button ng-click=betAmountUp() ng-disabled=autoRoll.active class="btn btn-alt"><i class="fa fa-lg fa-angle-up"></i></button><button ng-click=betAmountMax() ng-disabled=autoRoll.active class="btn btn-alt"><i class="fa fa-lg fa-angle-double-up"></i></button></div></div></div><div class=row><div class=col-sm-7><div class=form-group><label>{{ "WIN_CHANCE" | translate }} <i ng-show=bet.isFixedPayout data-toggle=tooltip title="Synced with the House Edge" class="fa fa-retweet"></i></label><div class="input-group input-group-lg"><input type=number ng-model=bet.pChance ng-change=pChanceChanged() step=any required ng-focus=focusPChance() ng-blur=roundPChance() tabindex=2 class="form-control ng-win-chance"><div class=input-group-btn><button ng-click=betChanceDown() class="btn btn-alt"><i class="fa fa-lg fa-angle-down"></i></button><button ng-click=betChanceUp() class="btn btn-alt"><i class="fa fa-lg fa-angle-up"></i></button></div></div></div></div><div class=col-sm-5><div class=form-group><label>{{ "PAYOUT" | translate }} <i ng-show=!bet.isFixedPayout data-toggle=tooltip title="Synced with the House Edge" class="fa fa-retweet"></i></label><input type=number ng-model=bet.payout ng-change=payoutChanged() step=any required ng-focus=focusPayout() ng-blur=roundPayout() tabindex=3 class="input-lg form-control h-bet-payout"></div></div></div></div><div class=col-sm-4><button id=btn-roll ng-click=roll() ng-class="{rolling: isRolling}" ng-disabled="isRolling || betForm.$invalid" class="btn-circle btn-alt hidden-xs m-t-20"><!--.loading.spin-1.loading.spin-2\n  .loading.spin-3\n    .loading.spin-4\n      .loading.spin-5--><span translate=ROLL ng-hide=isRolling></span><span translate=ROLLING ng-show=isRolling></span></button><button ng-click=roll() ng-disabled="isRolling || betForm.$invalid" class="btn btn-primary btn-block btn-lg visible-xs m-t-10"><span translate=ROLL></span></button></div></div><div class="row p-t-10"><div class="bet-footer col-md-12"><div class=pull-left><span data-text-label=Roll data-off-label=Hi data-on-label=Lo class="make-switch switch-mini"><input type=checkbox ng-model=bet.isRollLow class="h-switch"></span><span class=m-l-20><span translate=PROFIT_ON_WIN></span>: <span amount=bet.getProfitIfWin() class=h-coin></span></span><span ng-class="{ &quot;ng-invalid&quot;: betForm.$error.houseEdge }" class=m-l-20><span translate=BET_LOG.HOUSE_EDGE></span><!--= \' \'--><!--a(ui-sref=\'houseEdge\')sup\n  i.fa.fa-lg.fa-question-circle--> : {{ bet.pHouseEdge | number:4 }}%<input type=hidden ng-model=bet.pHouseEdge class="h-edge"></span><span class="m-l-20 hidden-xs"><span translate=MAX_WIN></span>: <span amount=site.getMaxWin() fraclen=4 class=h-coin></span></span></div><div class="pull-right hidden-xs"><span><button ng-click="isHotKeysEnabled = !isHotKeysEnabled" data-toggle=tooltip data-placement=bottom title="Hit [?] to show help" class="btn btn-alt btn-xs key-shortcut"><span ng-class="{&quot;text-success&quot;: isHotKeysEnabled}"><i class="fa fa-keyboard-o"></i> {{ "HOTKEYS" | translate | uppercase }}</span></button></span><span class=m-l-20><button ng-click="showAutoRoll = !showAutoRoll" ng-disabled="showAutoRoll &amp;&amp; autoRoll.active" class="btn btn-alt btn-xs"><span ng-class="{&quot;text-success&quot;: showAutoRoll}"><i class="fa fa-magic"></i> {{ "AUTO" | translate | uppercase }}</span></button></span></div></div></div><div ng-if=showAutoRoll class=bet-auto><hr class="whiter m-t-15 m-b-15"><div class="row p-b-5"><div class="form-group col-sm-2"><div class="control-label col-sm-4"><span translate=DICE_BET.NUMBER_OF_ROLLS></span></div><div class=col-sm-8><div class="input-group input-group-sm"><input type=number step=any min=0 ng-model=autoRoll.times class="form-control"><!--.input-group-addonspan x--></div></div></div><div class="form-group col-sm-4"><div class="control-label col-sm-8"><span translate=DICE_BET.ON_LOSS_MULTIPLIER></span></div><div class=col-sm-4><div class="input-group input-group-sm"><input type=number step=any min=0 ng-model=autoRoll.lossMultiplier class="form-control"><!--.input-group-addonspan x--></div></div></div><div class="form-group col-sm-4"><div class="control-label col-sm-6"><span translate=DICE_BET.MIN_BALANCE></span></div><div class=col-sm-6><div class="input-group input-group-sm"><input type=number step=any min=0 ng-model=autoRoll.minBalance class="form-control"><!--.input-group-addonspan x--></div></div></div><div class=col-sm-2><div class=pull-right><span ng-if=!autoRoll.active><button ng-click=startAutoRoll(betForm) ng-disabled="isRolling || betForm.$invalid" translate=DICE_BET.START_AUTO_ROLL class="btn btn-alt btn-sm"></button></span><span ng-if=autoRoll.active><button ng-click=stopAutoRoll() class="btn btn-alt btn-sm"><span class=text-danger><!--i.fa.fa-spin.fa-circle-o-notch--><!--= \' \'-->{{ "DICE_BET.STOP_AUTO_ROLL" | translate }}</span></button></span></div></div></div></div></form></div><script>/* --------------------------------------------------------\n Checkbox + Radio\n -----------------------------------------------------------\nif($(\'input:checkbox, input:radio\')[0]) {\n  //Checkbox + Radio skin\n  $(\'input:checkbox:not([data-toggle="buttons"] input, .make-switch input), input:radio:not([data-toggle="buttons"] input)\').iCheck({\n    checkboxClass: \'icheckbox_minimal\',\n    radioClass: \'iradio_minimal\',\n    increaseArea: \'20%\' // optional\n  });\n}*/\n\n$(function () {\n  $(\'[data-toggle="tooltip"]\').tooltip()\n  //$(\'[data-toggle="popover"]\').popover()\n})\n\n/*$(\'.h-bet-payout\').blur(function(){\n  $(\'.h-bet-amount\').focus();\n});*/</script><script src=assets/js/toggler.min.js></script>'),a.put("components/includes/diceBox/diceBox.html",'<div class=container><div ng-controller=DiceBoxCtrl class="dice-box tile"><div class="row dice-box-header"><div class=col-sm-12><div class=pull-left><button ng-class="{&quot;active disabled&quot;: activeTab === 0}" ng-click="activeTab = 0" class="btn btn-sm btn-alt">{{ "PLAY" | translate | uppercase }}</button> <button ng-class="{&quot;active disabled&quot;: activeTab === 3}" ng-click="activeTab = 3" class="btn btn-sm btn-alt"><i class="fa fa-bar-chart"></i></button> <button ng-class="{&quot;active disabled&quot;: activeTab === 4, highlight: wallet.currentWallet.balance &gt; 0 &amp;&amp; wallet.currentWallet.investment === 0}" ng-show="account.currentAccount.isInvestmentEnabled || wallet.currentWallet.investment &gt; 0 || account.currentAccount.id &gt; 1" ng-click="activeTab = 4" class="btn btn-sm btn-alt">{{ "INVEST" | translate | uppercase }}</button></div><div class=pull-right><button ng-class="{&quot;active disabled&quot;: activeTab === 1, highlight: wallet.currentWallet.balance === 0}" ng-click="activeTab = 1" class="btn btn-sm btn-alt">{{ "DEPOSIT" | translate | uppercase }}</button> <button ng-class="{&quot;active disabled&quot;: activeTab === 2}" ng-click="activeTab = 2" class="btn btn-sm btn-alt">{{ "WITHDRAW" | translate | uppercase }}</button></div></div></div><div class=row><div class=col-sm-12><div class=text-center><h5 class=m-b-0>{{ currentSite.currency.symbol }}-{{ "BALANCE" | translate | uppercase }}</h5><h2 class="m-t-5 m-b-0"><span class=h-balance></span></h2></div></div></div><tabset><tab active="activeTab === 0"><div ng-include=&quot;components/includes/diceBet/diceBet.html&quot;></div></tab><tab active="activeTab === 1"><div ng-if="activeTab === 1" ng-include=&quot;components/includes/deposit/deposit.html&quot;></div></tab><tab active="activeTab === 2"><div ng-if="activeTab === 2" ng-include=&quot;components/includes/withdrawal/withdrawal.html&quot;></div></tab><tab active="activeTab === 3"><div ng-if="activeTab === 3" ng-include=&quot;components/includes/myStats/myStats.html&quot;></div></tab><tab active="activeTab === 4"><div ng-if="activeTab === 4" ng-include=&quot;components/includes/investment/investment.html&quot;></div></tab></tabset></div></div>'),
a.put("components/includes/diceLog/diceLog.html",'<div ng-controller=DiceLogCtrl class="container-fluid dice-log ng-cloak"><div class="nav-buttons text-center m-b-20"><a ng-class="{active: activeTab === 0}" ng-click="activeTab = 0">{{ "ALL_BETS" | translate | uppercase }}</a><a ng-class="{active: activeTab === 1}" ng-click="activeTab = 1">{{ "MY_BETS" | translate | uppercase }}</a><a ng-class="{active: activeTab === 2}" ng-click="activeTab = 2">{{ "HIGH_BETS" | translate | uppercase }}</a></div><tabset><tab active="activeTab === 0"><div ng-if="activeTab === 0" class=table><div class="row row-header"><span translate=BET_LOG.ID class="col-sm-1 hidden-xs"></span><span translate=BET_LOG.ACCOUNT class="col-sm-3 col-xs-3 text-center"></span><!--span.col-sm-1.hidden-xs.text-right(translate=\'BET_LOG.PROCESS_TIME\')--><span translate=BET_LOG.ROLL class="col-sm-1 col-xs-2 text-right"></span><span translate=BET_LOG.TARGET class="col-sm-1 col-xs-2 text-right"></span><span translate=BET_LOG.AMOUNT class="col-sm-2 hidden-xs text-center"></span><span translate=BET_LOG.PAYOUT class="col-sm-2 col-xs-2 text-center"></span><!--span.col-sm-1.hidden-xs.text-center(translate=\'BET_LOG.HOUSE_EDGE\')--><span translate=BET_LOG.PROFIT class="col-sm-2 col-xs-3 text-center"></span></div><div ng-repeat="bet in diceBetLog.allBets track by bet.id" ng-class="{self: bet.accountId === account.currentAccount.id }" class=row><span class="bet-id col-sm-1 hidden-xs"><a href=bets/{{::bet.id}} target=_blank>{{ ::bet.id }}</a></span><span class="col-sm-3 col-xs-3 text-center"><a href=accounts/{{::bet.accountId}} target=_blank><h-username username=::bet.username></h-username></a></span><!--span.col-sm-1.hidden-xs.text-right {{ ::bet.processTime }}--><span roll=::bet.roll bindonce=bindonce win="(bet.isRollLow &amp;&amp; (bet.roll &lt; bet.target)) || (!bet.isRollLow &amp;&amp; (bet.roll &gt; bet.target)) ? true : false" class="col-sm-1 col-xs-2 text-right h-roll"></span><span roll=::bet.target bindonce=bindonce lt=::bet.isRollLow class="col-sm-1 col-xs-2 text-right h-roll"></span><span amount=::bet.amount fraclen=8 bindonce=bindonce class="col-sm-2 hidden-xs text-center h-coin"></span><span payout=::bet.payout bindonce=bindonce class="col-sm-2 col-xs-2 text-center h-payout"></span><!--span.col-sm-1.hidden-xs.text-center {{ 100 - bet.payout * (bet.isRollLow ? bet.target : 1000000 - bet.target - 1) / 10000 | number:2 }}%--><span amount=::bet.profit fraclen=8 bindonce=bindonce win="(bet.isRollLow &amp;&amp; (bet.roll &lt; bet.target)) || (!bet.isRollLow &amp;&amp; (bet.roll &gt; bet.target)) ? true : false" class="col-sm-2 col-xs-3 text-center h-coin"></span></div></div></tab><tab active="activeTab === 1"><div ng-if="activeTab === 1" class=table><div class="row row-header"><span translate=BET_LOG.ID class="col-sm-1 hidden-xs"></span><span translate=BET_LOG.ACCOUNT class="col-sm-2 col-xs-3 text-center"></span><span translate=BET_LOG.PROCESS_TIME class="col-sm-1 hidden-xs text-right"></span><span translate=BET_LOG.ROLL class="col-sm-1 col-xs-2 text-right"></span><span translate=BET_LOG.TARGET class="col-sm-1 col-xs-2 text-right"></span><span translate=BET_LOG.AMOUNT class="col-sm-2 hidden-xs text-center"></span><span translate=BET_LOG.PAYOUT class="col-sm-1 col-xs-2 text-center"></span><span translate=BET_LOG.HOUSE_EDGE class="col-sm-1 hidden-xs text-center"></span><span translate=BET_LOG.PROFIT class="col-sm-2 col-xs-3 text-center"></span></div><div ng-repeat="bet in diceBetLog.myBets track by bet.id" class=row><span class="bet-id col-sm-1 hidden-xs"><a href=bets/{{::bet.id}} target=_blank>{{ ::bet.id }}</a></span><span class="col-sm-2 col-xs-3 text-center"><a href=accounts/{{::bet.accountId}} target=_blank><h-username username=::bet.username></h-username></a></span><span class="col-sm-1 hidden-xs text-right">{{ ::bet.processTime }}</span><span roll=::bet.roll bindonce=bindonce win="(bet.isRollLow &amp;&amp; (bet.roll &lt; bet.target)) || (!bet.isRollLow &amp;&amp; (bet.roll &gt; bet.target)) ? true : false" class="col-sm-1 col-xs-2 text-right h-roll"></span><span roll=::bet.target bindonce=bindonce lt=::bet.isRollLow class="col-sm-1 col-xs-2 text-right h-roll"></span><span amount=::bet.amount fraclen=8 bindonce=bindonce class="col-sm-2 hidden-xs text-center h-coin"></span><span payout=::bet.payout bindonce=bindonce class="col-sm-1 col-xs-2 text-center h-payout"></span><span class="col-sm-1 hidden-xs text-center">{{ 100 - bet.payout * (bet.isRollLow ? bet.target : 1000000 - bet.target - 1) / 10000 | number:2 }}%</span><span amount=::bet.profit fraclen=8 bindonce=bindonce win="(bet.isRollLow &amp;&amp; (bet.roll &lt; bet.target)) || (!bet.isRollLow &amp;&amp; (bet.roll &gt; bet.target)) ? true : false" class="col-sm-2 col-xs-3 text-center h-coin"></span></div></div></tab><tab active="activeTab === 2"><div ng-if="activeTab === 2" class=table><div class="row row-header"><span translate=BET_LOG.ID class="col-sm-1 hidden-xs"></span><span translate=BET_LOG.ACCOUNT class="col-sm-2 col-xs-3 text-center"></span><span translate=BET_LOG.PROCESS_TIME class="col-sm-1 hidden-xs text-right"></span><span translate=BET_LOG.ROLL class="col-sm-1 col-xs-2 text-right"></span><span translate=BET_LOG.TARGET class="col-sm-1 col-xs-2 text-right"></span><span translate=BET_LOG.AMOUNT class="col-sm-2 hidden-xs text-center"></span><span translate=BET_LOG.PAYOUT class="col-sm-1 col-xs-2 text-center"></span><span translate=BET_LOG.HOUSE_EDGE class="col-sm-1 hidden-xs text-center"></span><span translate=BET_LOG.PROFIT class="col-sm-2 col-xs-3 text-center"></span></div><div ng-repeat="bet in diceBetLog.highBets track by bet.id" class=row><span class="bet-id col-sm-1 hidden-xs"><a href=bets/{{::bet.id}} target=_blank>{{ ::bet.id }}</a></span><span class="col-sm-2 col-xs-3 text-center"><a href=accounts/{{::bet.accountId}} target=_blank><h-username username=::bet.username></h-username></a></span><span class="col-sm-1 hidden-xs text-right">{{ ::bet.processTime }}</span><span roll=::bet.roll bindonce=bindonce win="(bet.isRollLow &amp;&amp; (bet.roll &lt; bet.target)) || (!bet.isRollLow &amp;&amp; (bet.roll &gt; bet.target)) ? true : false" class="col-sm-1 col-xs-2 text-right h-roll"></span><span roll=::bet.target bindonce=bindonce lt=bet.isRollLow class="col-sm-1 col-xs-2 text-right h-roll"></span><span amount=::bet.amount fraclen=8 bindonce=bindonce class="col-sm-2 hidden-xs text-center h-coin"></span><span payout=::bet.payout bindonce=bindonce class="col-sm-1 col-xs-2 text-center h-payout"></span><span class="col-sm-1 hidden-xs text-center">{{ 100 - bet.payout * (bet.isRollLow ? bet.target : 1000000 - bet.target - 1) / 10000 | number:2 }}%</span><span amount=::bet.profit fraclen=8 bindonce=bindonce win="(bet.isRollLow &amp;&amp; (bet.roll &lt; bet.target)) || (!bet.isRollLow &amp;&amp; (bet.roll &gt; bet.target)) ? true : false" class="col-sm-2 col-xs-3 text-center h-coin"></span></div></div></tab></tabset></div>'),a.put("components/includes/footer/footer.html",'<footer class=footer><div class=container><p class=text-center><a href=http://blog.safedice.com target=_blank>Dice Blog</a> | <a href="http://bitcointalk.org/index.php?topic=868275.new" target=_blank rel=nofollow>BitcoinTalk</a> | <span translate=FOOTER.COPYRIGHT></span></p></div></footer>'),a.put("components/includes/investment/investment.html",'<div ng-controller=InvestmentCtrl class=investment><div ng-switch=currentAccount.isInvestmentEnabled class=m-t-20><div ng-switch-default=ng-switch-default class=row><center class=m-b-15><span translate=INVESTMENT_TAB.SITE_PROFIT></span>: <span amount=currentSite.profit class=h-coin></span> | <span translate=INVESTMENT_TAB.SITE_BANKROLL></span>: <span amount=currentSite.bankroll class=h-coin></span></center><span translate=INVESTMENT_TAB.PRE_INVESTMENT_MESSAGE></span><center><button ng-click=account.enableInvestment(true) translate=INVESTMENT_TAB.PRE_INVESTMENT_CONFIRM class="btn btn-alt p-10"></button></center></div><div ng-switch-when=true class="row m-t-10"><div ng-class="{&quot;investment-loading&quot;: investment.submitted}" class=col-sm-6><h5 class=m-b-0>{{ "INVESTMENT" | translate | uppercase }}</h5><h3 amount=currentWallet.investment class="m-t-5 m-b-0 h-coin"></h3><label class=investment-info><div><span>{{ getPShareOfInvestment() }}</span><span translate=INVESTMENT_TAB.PERCENT_FROM_TOTAL_INVESTMENT></span></div></label><div class=p-t-20><div class=row><div class=col-xs-4><p translate=INVESTMENT_TAB.MY_PROFIT></p></div><div class=col-xs-4><p amount=getProfit() class="pull-right h-coin"></p></div></div><div class=row><div class=col-xs-4><p translate=INVESTMENT_TAB.SITE_PROFIT></p></div><div class=col-xs-4><p amount=currentSite.profit class="pull-right h-coin"></p></div></div><div class=row><div class=col-xs-4><p translate=INVESTMENT_TAB.SITE_BANKROLL></p></div><div class=col-xs-4><p amount=currentSite.bankroll class="pull-right h-coin"></p></div></div></div><hr class="whiter m-t-20 m-b-20 visible-xs"></div><div class=col-sm-5><form name=investmentForm novalidate class=form-group><div translate=INVESTMENT_TAB.CUSTOM_AMOUNT class=control-label></div><div class=m-b-10><div class=row><div class=col-md-11><div class=input-group><input type=number ng-model=investment.amount step=any min=0 required class="form-control"><div class=input-group-btn><button ng-click=invest(investmentForm) ng-disabled="investmentForm.$dirty &amp;&amp; investmentForm.$invalid" translate=INVESTMENT_TAB.INVEST class="btn btn-alt"></button><button ng-click="invest(investmentForm, true)" ng-disabled="investmentForm.$dirty &amp;&amp; investmentForm.$invalid" translate=INVESTMENT_TAB.DIVEST class="btn btn-alt"></button></div></div></div><div class=col-md-1><i ng-show="investment.result.status === 200" class="fa fa-check fa-lg text-success p-t-10"></i></div></div></div><div class=clearfix></div><button ng-click=investAll() translate=INVESTMENT_TAB.INVEST_ALL_MY_BALANCE class="btn btn-alt"></button><button ng-click=divestAll() translate=INVESTMENT_TAB.DIVEST_ALL_MY_BALANCE class="btn btn-alt m-l-10"></button></form><hr class="whiter m-t-20 p-b-20"><form name=kellyForm novalidate class=form-group><div translate=INVESTMENT_TAB.RISK_LEVEL class=control-label></div><div class=m-b-10><div class=row><div class=col-sm-8><select ng-model=kelly ng-options="item.name for item in kellyOptions track by item.amount" ng-change=setKelly(kelly.amount) class="select h-kelly-select">}</select></div></div></div></form></div></div></div></div>'),a.put("components/includes/loading/loading.html",'<div ng-controller=LoadingCtrl class=loading-page><div class=loading-content><center><div><img src="assets/img/logo-32.png"></div><img src=assets/img/loading.gif alt=Loading... class="loader m-t-20"><p ng-bind-html=message class=m-t-20></p></center></div></div>'),a.put("components/includes/myStats/myStats.html",'<div ng-controller=MyStatsCtrl class="my-stats m-t-20 p-t-10"><div class=row><div class=col-sm-6><div class="listview narrow"><div class=media><div class="pull-right content"><span amount=currentWallet.wagered class="pull-right h-coin"></span></div><div class=media-body><h6><span class=m-r-15><i class="fa fa-lg fa-flag-checkered"></i></span><span>{{ "WAGERED" | translate | uppercase }}</span></h6></div></div><div class=media><div class="pull-right content"><span amount="currentWallet.amountWin - currentWallet.amountLose" win="currentWallet.amountWin &gt;= currentWallet.amountLose" class="pull-right h-coin"></span></div><div class=media-body><h6><span class=m-r-15><i class="fa fa-lg fa-trophy"></i></span><span>{{ "PROFIT" | translate | uppercase }}</span></h6></div></div><div ng-if=currentWallet.wagered class=media><div class="pull-right content"><span class=pull-right>{{ (currentWallet.amountWin - currentWallet.amountLose) / currentWallet.wagered * 100 | number:2 }}%</span></div><div class=media-body><h6><span class=m-r-15><i class="fa fa-lg fa-bullseye"></i></span><span>{{ "PROFIT" | translate | uppercase }} / {{ "WAGERED" | translate | uppercase }}</span></h6></div></div></div><hr class="whiter visible-xs"></div><div class="col-sm-5 col-sm-offset-1"><div class="listview narrow"><div class=media><div class="pull-right content"><span class="pull-right text-success">{{ currentWallet.win }}</span></div><div class=media-body><h6><span class=m-r-15><i class="fa fa-lg fa-thumbs-up"></i></span><span>{{ "WINS" | translate | uppercase }}</span></h6></div></div><div class=media><div class="pull-right content"><span class="pull-right text-danger">{{ currentWallet.lose }}</span></div><div class=media-body><h6><span class=m-r-15><i class="fa fa-lg fa-thumbs-down"></i></span><span>{{ "LOSSES" | translate | uppercase }}</span></h6></div></div><div class=media><div class="pull-right content"><span class=pull-right>{{ currentWallet.win + currentWallet.lose }}</span></div><div class=media-body><h6><span class=m-r-15><i class="fa fa-lg fa-random"></i></span><span>{{ "BETS" | translate | uppercase }}</span></h6></div></div></div></div></div></div>'),a.put("components/includes/navbar/navbar.html",'<nav ng-controller=NavbarCtrl class="navbar navbar-static-top"><div class=container-fluid><div class=navbar-header><button type=button ng-click="isCollapsed = !isCollapsed" class=navbar-toggle><span class=sr-only>Toggle navigation</span><span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button><a ui-sref=dice class=navbar-brand><div class=logo-navbar></div>SAFEDICE</a></div><div collapse=isCollapsed class="navbar-collapse collapse"><ul class="nav navbar-nav"><li ng-show=$state.includes(&quot;dice&quot;) class=hidden-sm><a class=h-site-select></a></li><li><a class=h-lang-select></a></li><!--lia(ui-sref=\'aboutInvestment\')\n  | {{ "INVEST" | translate | uppercase }}--><li><a ui-sref=fair>{{ "FAIR" | translate | uppercase }}</a></li><li><a ui-sref=houseEdge>{{ "VARIABLE_HOUSE_EDGE" | translate | uppercase }}</a></li><li><a ui-sref=faq>{{ "FAQ" | translate | uppercase }}</a></li><li><a ui-sref=leaderboard><i class="fa fa-trophy"></i></a></li></ul><ul class="nav navbar-nav navbar-right"><!--li.hidden-xsp.nav.navbar-text\n  span.lbl\n    | {{ "SITE_MAX_WIN" | translate | uppercase }}\n  = \': \'\n  span.h-coin(amount=\'site.getMaxWin()\', fraclen=\'4\')\n  = \' \'--><li class=visible-lg><p class="nav navbar-text"><span class=lbl>{{ "SITE_WAGERED" | translate | uppercase }}</span>: <span amount=site.currentSite.wagered fraclen=4 class=h-coin></span></p></li><li class=visible-lg><p class="nav navbar-text"><span class=lbl>{{ "SITE_BETS" | translate | uppercase }}</span>: {{ site.currentSite.bets }}</p></li><li class=hidden-xs><p class="nav navbar-text"><span data-toggle=tooltip data-placement=bottom title="Connection Status" ng-switch=socket.isConnected() class=lbl><i ng-switch-when=true class="fa fa-link"></i><i ng-switch-default=ng-switch-default class="fa fa-unlink text-danger"></i></span></p></li><li class="divider-vertical visible-lg"></li><li class=dropdown><a class=dropdown-toggle>{{ account.currentAccount.username }} <span class=caret></span></a><ul class=dropdown-menu><li><a ui-sref=account.setting><i class="fa fa-user"></i><span translate=SETTING class=m-l-5></span></a></li><li><a ui-sref=account.referral><i class="fa fa-child"></i><span translate=REFERRAL class=m-l-5></span></a></li><li><a ui-sref=account.twoFactor><i class="fa fa-lock"></i><span translate=TWO_FACTOR_AUTH class=m-l-5></span></a></li><li class=divider></li><li><a ui-sref=account.history><i class="fa fa-history"></i><span translate=HISTORY class=m-l-5></span></a></li><li class=divider></li><li><a ng-click=signOut()><i class="fa fa-power-off"></i><span translate=SIGN_OUT class=m-l-5></span></a></li></ul></li></ul></div></div></nav><script>$(function () {\n  $(\'[data-toggle="tooltip"]\').tooltip()\n})</script>'),a.put("components/includes/test/testAccount/testAccount.html",'<div ng-controller=TestAccountCtrl class=container><!-- Sign In --><form name=form novalidate ng-submit=signIn(form)>Username: <input name=username ng-model="si.username"><br>Password: <input type=password name=password ng-model="si.password"><br>Code: <input name=code ng-model="si.code"><br><input type=submit value="SignIn"></form><!-- Sign Up --><hr><form name=form novalidate ng-submit=signUp(form)>Username: <input name=username ng-model="su.username"><br><input type=submit value="SignUp"></form><!-- Sign Out --><hr><button ng-click=account.signOut()>SignOut</button><!-- TOTP --><hr><button ng-click=getTotp()>getTotp</button><hr><form name=form novalidate ng-submit=updateTotp(form)>Code: <input name=code ng-model="ut.code"><br><input type=submit value="UpdateTotp"></form><button ng-click=removeTotp()>RemoveTotp</button><!-- Password --><hr><button ng-click=changePassword()>getTotp</button><hr><form name=form novalidate ng-submit=changePassword(form)>old pass: <input type=password name=oldPassword ng-model="cp.oldPassword"><br>new pass: <input type=password name=newPassword ng-model="cp.newPassword"><br><input type=submit value="ChangePassword"></form><!-- Seed --><hr><form name=form novalidate ng-submit=changeAccountSeed(form)>newseed: <input name=accountSeed ng-model="cas.accountSeed"><br><input type=submit value="ChangeAccountSeed"></form><button ng-click=account.randomizeServerSeed()>RandomizeServerSeed</button><hr><pre>account.currentAccount: {{ account.currentAccount }}\ntotp: {{ totp }}</pre></div>'),a.put("components/includes/test/testLog/testLog.html","<div ng-controller=TestLogCtrl class=container><button ng-click=roll()>Roll</button><br><button ng-click=socket.connect()>Connect Socket</button><br><button ng-click=socket.disconnect()>Disconnect Socket</button><hr><pre>socket.isConnected: {{ socket.isConnected() }}</pre><pre>log.diceBetLog.allBets: {{ log.diceBetLog.allBets }}</pre><pre>log.diceBetLog.myBets: {{ log.diceBetLog.myBets }}</pre><pre>log.diceBetLog.highBets: {{ log.diceBetLog.highBets }}</pre><pre>log.txLog: {{ log.txLog }}</pre></div>"),a.put("components/includes/test/testStats/testStats.html","<div ng-controller=TestStatsCtrl class=container><button ng-click=wallet.invest(100)>Load</button><hr><pre>site.currentSite: {{ site.currentSite }}</pre><pre>wallet.currentWallet: {{ wallet.currentWallet }}</pre></div>"),a.put("components/includes/withdrawal/withdrawal.html",'<div ng-controller=WithdrawalCtrl class="row withdrawal"><div class=col-sm-6><form name=withdrawalForm novalidate ng-submit="withdrawalForm.$valid &amp;&amp; withdraw(withdrawalForm)"><div class="form-group m-b-10"><div translate=WITHDRAWAL_TAB.WITHDRAWAL_ADDRESS class=control-label></div><input ng-model=withdrawal.address ng-maxlength=255 required class="form-control"></div><div ng-show="currentSite.currency.name === &quot;Monero&quot;" class="form-group m-b-10"><div translate=WITHDRAWAL_TAB.PAYMENT_ID class=control-label></div><input ng-model=withdrawal.pid ng-minlength=64 ng-maxlength=64 class="form-control"></div><div class="row m-b-15"><div class=col-sm-7><div class=form-group><div translate=WITHDRAWAL_TAB.AMOUNT class=control-label></div><input type=number ng-model=withdrawalAmount min=0 step=any required class="form-control"></div></div><div class=col-sm-5><div class=form-group><div translate=TWO_FACTOR_OPTIONAL class=control-label></div><input ng-model=withdrawal.code class="form-control"></div></div></div><div class=row><div class=col-sm-4><div class=form-group><input type=submit value="{{ &quot;WITHDRAWAL_TAB.WITHDRAW&quot; | translate }}" ng-disabled="withdrawal.submitted || (withdrawalForm.$dirty &amp;&amp; withdrawalForm.$invalid)" class="btn btn-alt"></div></div><div class=col-sm-8><div class=p-t-10><div ng-show="withdrawal.result.status === 200" class=text-success><i class="fa fa-check fa-lg"></i></div><div ng-show="withdrawal.result.status !== 200" class=text-danger>{{ withdrawal.result.data.message || withdrawal.result.data }}</div></div></div></div><div class=row><div class=col-sm-12><div ng-show="withdrawal.result.status === 200" class=text-success><span class=tx-hash>{{ withdrawal.result.txHash }}</span></div></div></div></form></div><div class=col-sm-6><div translate=WITHDRAWAL_TAB.INFO class=m-t-20></div></div></div>'),a.put("components/modals/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>')}]);
